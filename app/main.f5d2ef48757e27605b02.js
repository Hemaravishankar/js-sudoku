!function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(r){return t[r]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=1)}([function(t,r,e){},function(t,r,e){"use strict";e.r(r);e(0);function n(t){return function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=new Set(["A","B","C","D","E","F","G","H","I"]),o=new Set(["1","2","3","4","5","6","7","8","9"]),a=new Set(["a","b","c","d","e","f","g","h","i"]);function u(){return o}function l(){return h(i,o)}function f(){return n(o).map(function(t){return h(i,new Set(t))}).concat(n(i).map(function(t){return h(new Set(t),o)})).concat((t=[],[["A","B","C"],["D","E","F"],["G","H","I"]].forEach(function(r){[["1","2","3"],["4","5","6"],["7","8","9"]].forEach(function(e){t.push(h(new Set(r),new Set(e)))})}),t));var t}function c(t,r){var e=new Map;return n(t).forEach(function(t){return e.set(t,r.filter(function(r){return r.has(t)}))}),e}function s(t,r){var e=new Map;return n(t).forEach(function(t){var i=r.get(t);e.set(t,new Set(n(new Set([].concat(n(i[0]),n(i[1]),n(i[2])))).filter(function(r){return r!==t})))}),e}function h(t,r){var e=new Set,n=!0,i=!1,o=void 0;try{for(var a,u=t.values()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value,f=!0,c=!1,s=void 0;try{for(var h,y=(r.values()||r)[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var v=h.value;e.add(l+v)}}catch(t){c=!0,s=t}finally{try{f||null==y.return||y.return()}finally{if(c)throw s}}}}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return e}function y(t){for(var r,e,i=n(t),o=i.length;0!==o;)e=Math.floor(Math.random()*o),r=i[o-=1],i[o]=i[e],i[e]=r;return i}function v(t){var r=!0,e=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){if(!i.value)return!1}}catch(t){e=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(e)throw n}}return!0}function d(t){return function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(e.push(a.value),!r||e.length!==r);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return e}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=28,m=u(),w=l(),b=f(),S=c(w,b),A=s(w,S);function z(t){var r=new Map;w.forEach(function(t){return r.set(t,m)});var e=!0,n=!1,i=void 0;try{for(var o,a=function(t){for(var r=t.filter(function(t){return m.has(t)||"0"===t||"."===t}),e=new Map,n=d(w),i=0;i<n.length;i++)e.set(n[i],r[i]);return e}(t).entries()[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=g(o.value,2),l=u[0],f=u[1];if(m.has(f)&&!E(r,l,f))return!1}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return r}function E(t,r,e){return!!v(d(t.get(r)).filter(function(t){return t!==e}).map(function(e){return function t(r,e,n){if(!r.get(e).has(n))return r;r.set(e,new Set(d(r.get(e)).filter(function(t){return t!==n})));if(!r.get(e).size)return!1;if(1===r.get(e).size){var i=d(r.get(e))[0];if(!v(d(A.get(e)).map(function(e){return t(r,e,i)})))return!1}var o=!0;var a=!1;var u=void 0;try{for(var l,f=S.get(e)[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var c=l.value,s=d(c).filter(function(t){return r.get(t).has(n)});if(!s.length)return!1;if(1===s.length&&!E(r,s[0],n))return!1}}catch(t){a=!0,u=t}finally{try{o||null==f.return||f.return()}finally{if(a)throw u}}return r}(t,r,e)}))&&t}function x(t){return function t(r){if(!r)return!1;if(v(d(w).map(function(t){return 1===r.get(t).size})))return r;var e=d(w).filter(function(t){return r.get(t).size>1}).sort(function(t,e){return r.get(t).size-r.get(e).size})[0];return function(t,r){var e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=r(o.value);if(u)return u}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return!1}(r.get(e),function(n){return t(E(new Map(r),e,n))})}(z(t))}function M(t){return t&&v(b.map(function(r){return function(r){var e=!0,n=!1,i=void 0;try{for(var o,a=r[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=o.value;if(d(t.get(u)).filter(function(t){return!m.has(t)}).length>0)return!1}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return!0}(r)}))}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:17,r=new Map;w.forEach(function(t){return r.set(t,m)});var e=!0,n=!1,i=void 0;try{for(var o,a=y(w)[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=o.value;if(!E(r,u,q(r.get(u))))break;var l=d(w).filter(function(t){return 1===r.get(t).size}).map(function(t){return r.get(t)});if(l.length>=t&&new Set(l).size>=8)return d(w).map(function(t){return 1===r.get(t).size?d(r.get(t))[0]:"0"})}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return j(t)}function q(t){return d(t)[(r=0,e=t.size-1,Math.floor(Math.random()*(e-r+1))+r)];var r,e}function k(t,r){var e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=g(o.value,2),l=u[0],f=u[1];if(d(r.get(l))[0]!==d(f)[0])return!1}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return!0}function O(t){var r=[],e={},n=y(w);d(w).forEach(function(n,i){r.push(d(t.get(n))[0]),e[n]=i});for(var i=new Map,o=0;o<n.length;o++){var a=e[n[o]],u=r[a];r[a]="0",k(t,x(r))?i.set(n[o],"0"):(r[a]=u,i.set(n[o],u))}return i}var I={getGame:function(){for(var t=x(j(81-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p)));!M(t);)t=x(j());return{puzzle:O(t),solution:t}}};function C(t){return function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(e.push(a.value),!r||e.length!==r);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return e}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var L=9,P=function(t){var r=document.createElement("div");return r.setAttribute("class","row"),r.style.height="".concat(t,"px"),r},B=function(t){var r=document.createElement("div");return r.setAttribute("class","col-1 square"),r.style.height="".concat(t,"px"),r.style.width="".concat(t,"px"),r.style.maxWidth="".concat(t,"px"),r.style.flex="0 0 ".concat(t,"px"),r},_=function(t){var r=document.createElement("div");return r.id=t,r.setAttribute("class","square-content"),r},H=function(t){var r=new Map,e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var u=T(o.value,2),l=u[0],f=u[1];r.set(l.toLowerCase(),new Set(C(f).map(function(t){return t.toLowerCase()})))}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return r};function V(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"grid-container",r=C(a),e=C(u()),n=document.getElementById(t),i=new Map,o=n.offsetWidth?n.offsetWidth/L-3:50,h=0;h<L;h++){for(var y=P(o),v=0;v<L;v++){var d="".concat(r[h]).concat(e[v]),g=B(o),p=_(d);g.appendChild(p),y.appendChild(g),i.set(d,p)}n.appendChild(y)}var m=l(),w=f(),b=H(s(m,c(m,w))),S=new Map,A=!0,z=!1,E=void 0;try{for(var x,M=b[Symbol.iterator]();!(A=(x=M.next()).done);A=!0){var j=T(x.value,2),q=j[0],k=j[1];S.set(q,C(k).map(function(t){return i.get(t)}))}}catch(t){z=!0,E=t}finally{try{A||null==M.return||M.return()}finally{if(z)throw E}}return{peers:S,squares:i}}function G(t){return function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function W(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(e.push(a.value),!r||e.length!==r);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return e}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var F=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"grid-container";!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.grid=V(r),this.peers=this.grid.peers,this.squares=this.grid.squares}var r,e,n;return r=t,(e=[{key:"fillClues",value:function(t){var r=!0,e=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var a=W(i.value,2),u=a[0],l=G(a[1])[0],f=this.squares.get(u.toLowerCase());"0"===l||"."===l?f.innerHTML="":(f.classList.add("clue"),f.innerHTML=l)}}catch(t){e=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(e)throw n}}}},{key:"setSquareValue",value:function(t,r){this.highlightedSquare&&(r.set(this.highlightedSquare.id.toUpperCase(),new Set(t)),this.highlightedSquare.innerHTML=t)}},{key:"highlightSquare",value:function(t){t.classList.contains("clue")||(this.highlightedSquare&&(this.highlightedSquare.classList.remove("focused-content"),this.highlightedSquare.classList.remove("highlight")),this.highlightedSquare=t,this.highlightedSquare.classList.add("focused-content"))}},{key:"highlightPeers",value:function(t){this.squares.get(t).classList.contains("clue")||(this.highlightedPeers&&this.highlightedPeers.forEach(function(r){r.id!==t&&r.classList.remove("highlight")}),this.highlightedPeers=this.peers.get(t),this.highlightedPeers.forEach(function(t){return t.classList.add("highlight")}))}}])&&D(r.prototype,e),n&&D(r,n),t}();function K(t){return function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function U(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(e.push(a.value),!r||e.length!==r);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return e}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Y(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}new(function(){function t(){var r=this;!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=I.getGame(),this.puzzle=this.game.puzzle,this.original=new Map(this.puzzle),this.solution=this.game.solution,this.grid=new F,this.grid.fillClues(this.puzzle),this.setKeyInputEvents(),this.setBtnInputEvents(),document.getElementById("reset").onclick=function(){return r.reset()},document.getElementById("erase").onclick=function(){return r.erase()}}var r,e,n;return r=t,n=[{key:"displayMessage",value:function(){window.alert("Congratulations! You solved the puzzle.")}}],(e=[{key:"reset",value:function(){this.puzzle=new Map(this.original),this.grid.fillClues(this.puzzle)}},{key:"erase",value:function(){this.grid.setSquareValue("",this.puzzle)}},{key:"setBtnInputEvents",value:function(){var r=this,e=this.grid;document.querySelectorAll(".number-btn").forEach(function(n){n.onclick=function(){e.setSquareValue(n.value,r.puzzle),r.solved()&&t.displayMessage()}})}},{key:"setKeyInputEvents",value:function(){var r=this,e=this.grid,n=this.grid.squares,i=!0,o=!1,a=void 0;try{for(var u,l=function(){var t=U(u.value,2),r=t[0],n=t[1];n.onclick=function(){e.highlightSquare(n),e.highlightPeers(r)}},f=n[Symbol.iterator]();!(i=(u=f.next()).done);i=!0)l()}catch(t){o=!0,a=t}finally{try{i||null==f.return||f.return()}finally{if(o)throw a}}document.onkeydown=function(n){var i=n.key,o=n.keyCode;o>=49&&o<=57?(e.setSquareValue(i,r.puzzle),r.solved()&&t.displayMessage()):8===o&&e.setSquareValue("",r.puzzle)}}},{key:"solved",value:function(){var t=!0,r=!1,e=void 0;try{for(var n,i=this.solution[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var o=U(n.value,2),a=o[0],u=o[1];if(K(this.puzzle.get(a))[0]!==K(u)[0])return!1}}catch(t){r=!0,e=t}finally{try{t||null==i.return||i.return()}finally{if(r)throw e}}return!0}}])&&Y(r.prototype,e),n&&Y(r,n),t}())}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3N1ZG9rdS1ncmlkLXV0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3N1ZG9rdS1nZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3N1ZG9rdS1ncmlkLWJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3N1ZG9rdS1ncmlkLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9zdWRva3UtdWkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3N1ZG9rdS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInJvd3MiLCJTZXQiLCJjb2xzIiwibG93ZXJDYXNlUm93cyIsImdldENvbHMiLCJnZXRTcXVhcmVzIiwiY3Jvc3MiLCJnZXRVbml0TGlzdCIsIl90b0NvbnN1bWFibGVBcnJheSIsIm1hcCIsImNvbmNhdCIsInUiLCJmb3JFYWNoIiwicHVzaCIsImdldFVuaXRzIiwic3F1YXJlcyIsInVuaXRsaXN0IiwidW5pdHMiLCJNYXAiLCJzZXQiLCJmaWx0ZXIiLCJoYXMiLCJnZXRQZWVycyIsInBlZXJzIiwieCIsImEiLCJiIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsInZhbHVlcyIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJhMSIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsImIxIiwiYWRkIiwiZXJyIiwicmV0dXJuIiwic2h1ZmZsZSIsInNlcSIsInRlbXBvcmFyeVZhbHVlIiwicmFuZG9tSW5kZXgiLCJhcnJheSIsImN1cnJlbnRJbmRleCIsImxlbmd0aCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImFsbCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240IiwiX2RpZEl0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yRXJyb3I0IiwiX3N0ZXA0IiwiX2l0ZXJhdG9yNCIsImxldmVsIiwiZGlnaXRzIiwicGFyc2VHcmlkIiwiZ3JpZCIsImNoYXJzIiwic3Vkb2t1X2dlbmVyYXRvcl90b0NvbnN1bWFibGVBcnJheSIsImdyaWRWYWx1ZXMiLCJlbnRyaWVzIiwiX3N0ZXAkdmFsdWUiLCJfc2xpY2VkVG9BcnJheSIsImFzc2lnbiIsImQyIiwiZWxpbWluYXRlIiwic2l6ZSIsInMyIiwidW5pdCIsImRwbGFjZXMiLCJzb2x2ZSIsInNlYXJjaCIsInNvcnQiLCJzMSIsImZ1bmMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyIsIl9kaWRJdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvckVycm9yMyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJyZXN1bHQiLCJzb21lIiwic29sdmVkIiwidW5pdFNvbHZlZCIsInJhbmRvbVB1enpsZSIsImFyZ3VtZW50cyIsInJhbmRvbVZhbHVlIiwiZHMiLCJtaW4iLCJtYXgiLCJpc1VuaXF1ZSIsIm9yaWdpbmFsIiwidGVzdCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241IiwiX2RpZEl0ZXJhdG9yRXJyb3I1IiwiX2l0ZXJhdG9yRXJyb3I1IiwiX3N0ZXA1IiwiX2l0ZXJhdG9yNSIsIl9zdGVwNSR2YWx1ZSIsImNyZWF0ZVB1enpsZSIsInNvbHV0aW9uIiwicHV6emxlIiwiaW5kaWNlcyIsInNodWZmbGVkIiwiaiIsInYiLCJzdWRva3VfZ2VuZXJhdG9yIiwiZ2V0R2FtZSIsImNyZWF0ZVJvdyIsImNlbGxTaXplIiwicm93IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwic3R5bGUiLCJoZWlnaHQiLCJjcmVhdGVTcXVhcmUiLCJzcXVhcmUiLCJ3aWR0aCIsIm1heFdpZHRoIiwiZmxleCIsImNyZWF0ZVNxdWFyZUNvbnRlbnQiLCJpZCIsImNvbnRlbnQiLCJ0b0xvd2VyQ2FzZSIsInN1ZG9rdV9ncmlkX2J1aWxkZXJfc2xpY2VkVG9BcnJheSIsInN1ZG9rdV9ncmlkX2J1aWxkZXJfdG9Db25zdW1hYmxlQXJyYXkiLCJkMSIsImJ1aWxkIiwiZWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwib2Zmc2V0V2lkdGgiLCJhcHBlbmRDaGlsZCIsInBlZXJJZHMiLCJfc3RlcDIkdmFsdWUiLCJTdWRva3VHcmlkIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImNsdWVzIiwic3Vkb2t1X2dyaWRfc2xpY2VkVG9BcnJheSIsImNsdWUiLCJzdWRva3VfZ3JpZF90b0NvbnN1bWFibGVBcnJheSIsImlubmVySFRNTCIsImNsYXNzTGlzdCIsImhpZ2hsaWdodGVkU3F1YXJlIiwidG9VcHBlckNhc2UiLCJjb250YWlucyIsInJlbW92ZSIsImhpZ2hsaWdodGVkUGVlcnMiLCJTdWRva3UiLCJfdGhpcyIsInN1ZG9rdV9jbGFzc0NhbGxDaGVjayIsImdhbWUiLCJnZW5lcmF0b3IiLCJmaWxsQ2x1ZXMiLCJzZXRLZXlJbnB1dEV2ZW50cyIsInNldEJ0bklucHV0RXZlbnRzIiwib25jbGljayIsInJlc2V0IiwiZXJhc2UiLCJ3aW5kb3ciLCJhbGVydCIsInNldFNxdWFyZVZhbHVlIiwiX3RoaXMyIiwicXVlcnlTZWxlY3RvckFsbCIsImRpc3BsYXlNZXNzYWdlIiwiX3RoaXMzIiwiX2xvb3AiLCJzdWRva3Vfc2xpY2VkVG9BcnJheSIsImVsIiwiaGlnaGxpZ2h0U3F1YXJlIiwiaGlnaGxpZ2h0UGVlcnMiLCJvbmtleWRvd24iLCJlIiwia2V5Y29kZSIsImtleUNvZGUiLCJzdWRva3VfdG9Db25zdW1hYmxlQXJyYXkiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVB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LE1BQUFJLEVBQUFJLFFBQUFKLEVBQUFJLFNBQUEsV0FBQVAsRUFBQSxNQUFBQyxHQUtQLE9BQU8iLCJmaWxlIjoibWFpbi5mNWQyZWY0ODc1N2UyNzYwNWIwMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImNvbnN0IHJvd3MgPSBuZXcgU2V0KFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knXSk7XG5jb25zdCBjb2xzID0gbmV3IFNldChbJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5J10pO1xuY29uc3QgbG93ZXJDYXNlUm93cyA9IG5ldyBTZXQoWydhJywgJ2InLCAnYycsICdkJywgJ2UnLCAnZicsICdnJywgJ2gnLCAnaSddKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvd3MoKSB7XG4gIHJldHVybiByb3dzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG93ZXJDYXNlUm93cygpIHtcbiAgcmV0dXJuIGxvd2VyQ2FzZVJvd3M7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xzKCkge1xuICByZXR1cm4gY29sc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3F1YXJlcygpIHtcbiAgcmV0dXJuIGNyb3NzKHJvd3MsIGNvbHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VW5pdExpc3QoKSB7XG4gIHJldHVybiBbLi4uY29sc10ubWFwKGMgPT4gY3Jvc3Mocm93cywgbmV3IFNldChjKSkpXG4gICAgICAuY29uY2F0KFsuLi5yb3dzXS5tYXAociA9PiBjcm9zcyhuZXcgU2V0KHIpLCBjb2xzKSkpXG4gICAgICAuY29uY2F0KCgoKSA9PiB7XG4gICAgICAgIGxldCB1ID0gW107XG4gICAgICAgIFtbJ0EnLCAnQicsICdDJ10sIFsnRCcsICdFJywgJ0YnXSwgWydHJywgJ0gnLCAnSSddXS5mb3JFYWNoKHIgPT4ge1xuICAgICAgICAgIFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXSwgWyc3JywgJzgnLCAnOSddXS5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgdS5wdXNoKGNyb3NzKG5ldyBTZXQociksIG5ldyBTZXQoYykpKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB1O1xuICAgICAgfSkoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVbml0cyhzcXVhcmVzLCB1bml0bGlzdCkge1xuICBsZXQgdW5pdHMgPSBuZXcgTWFwKCk7XG4gIFsuLi5zcXVhcmVzXS5mb3JFYWNoKHMgPT4gdW5pdHMuc2V0KHMsIHVuaXRsaXN0LmZpbHRlcih1ID0+IHUuaGFzKHMpKSkpO1xuXG4gIHJldHVybiB1bml0cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBlZXJzKHNxdWFyZXMsIHVuaXRzKSB7XG4gIGxldCBwZWVycyA9IG5ldyBNYXAoKTtcblxuICBbLi4uc3F1YXJlc10uZm9yRWFjaChzID0+IHtcbiAgICBsZXQgcCA9IHVuaXRzLmdldChzKTtcbiAgICBwZWVycy5zZXQocywgbmV3IFNldChcbiAgICAgICAgWy4uLm5ldyBTZXQoWy4uLnBbMF0sIC4uLnBbMV0sIC4uLnBbMl1dKV0uZmlsdGVyKHggPT4geCAhPT0gcykpKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBlZXJzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3MoYSwgYikge1xuICBsZXQgYyA9IG5ldyBTZXQoKTtcblxuICBmb3IgKGxldCBhMSBvZiBhLnZhbHVlcygpKSB7XG4gICAgZm9yIChsZXQgYjEgb2YgYi52YWx1ZXMoKSB8fCBiKSB7XG4gICAgICBjLmFkZChhMSArIGIxKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvbWUoc2VxLCBmdW5jKSB7XG4gIGZvciAobGV0IGQgb2Ygc2VxKSB7XG4gICAgbGV0IHJlc3VsdCA9IGZ1bmMoZCk7XG4gICAgaWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBGaXNoZXItWWF0ZXMgU2h1ZmZsZVxuICogU2VlIGh0dHA6Ly9iaXQubHkvMmdNWGlqWFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2h1ZmZsZShzZXEpIHtcbiAgbGV0IGFycmF5ID0gWy4uLnNlcV07XG4gIGxldCBjdXJyZW50SW5kZXggPSBhcnJheS5sZW5ndGgsIHRlbXBvcmFyeVZhbHVlLCByYW5kb21JbmRleDtcblxuICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxuICB3aGlsZSAoMCAhPT0gY3VycmVudEluZGV4KSB7XG5cbiAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cbiAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7XG4gICAgY3VycmVudEluZGV4IC09IDE7XG5cbiAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xuICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07XG4gICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGwodmFsdWVzKSB7XG4gIGZvciAobGV0IHYgb2YgdmFsdWVzKVxuICAgIGlmICghdikgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xufSIsIi8qKlxuICogQSBKYXZhU2NyaXB0IHBvcnQgYmFzZWQgb24gXCJTb2x2aW5nIEV2ZXJ5IFN1ZG9rdSBQdXp6bGVcIlxuICogYnkgUGV0ZXIgTm9ydmlnLlxuICpcbiAqIFRoZSBhcnRpY2xlIGNhbiBiZSBmb3VuZCBoZXJlOlxuICogLSBodHRwOi8vbm9ydmlnLmNvbS9zdWRva3UuaHRtbFxuICpcbiAqIFRoZSBvcmlnaW5hbCBQeXRob24gc291cmNlIGNhbiBiZSBmb3VuZCBoZXJlOlxuICogLSBodHRwczovL2dpdGh1Yi5jb20vbm9ydmlnL3B5dHVkZXMvYmxvYi9tYXN0ZXIvc3Vkb2t1LnB5XG4gKi9cblxuaW1wb3J0IHtcbiAgZ2V0Q29scyxcbiAgZ2V0U3F1YXJlcyxcbiAgZ2V0VW5pdExpc3QsXG4gIGdldFVuaXRzLFxuICBnZXRQZWVycyxcbiAgc29tZSxcbiAgc2h1ZmZsZSxcbiAgYWxsLFxuICBnZXRSYW5kb21JbnRcbn0gZnJvbSAnLi9zdWRva3UtZ3JpZC11dGlsJztcblxuY29uc3QgbGV2ZWwgPSB7XG4gIGVhc3k6IDI4LFxuICBtZWRpdW06IDM3LFxuICBoYXJkOiA0NSxcbiAgbWFzdGVyOiA2NVxufTtcblxuY29uc3QgZGlnaXRzID0gZ2V0Q29scygpO1xuY29uc3Qgc3F1YXJlcyA9IGdldFNxdWFyZXMoKTtcbmNvbnN0IHVuaXRsaXN0ID0gZ2V0VW5pdExpc3QoKTtcblxubGV0IHVuaXRzID0gZ2V0VW5pdHMoc3F1YXJlcywgdW5pdGxpc3QpO1xubGV0IHBlZXJzID0gZ2V0UGVlcnMoc3F1YXJlcywgdW5pdHMpO1xuXG4vKipcbiAqIENvbnZlcnQgZ3JpZCB0byBhIGRpY3Qgb2YgcG9zc2libGUgdmFsdWVzLCB7c3F1YXJlOiBkaWdpdHN9LFxuICogb3IgcmV0dXJuIGZhbHNlIGlmIGEgY29udHJhZGljdGlvbiBpcyBkZXRlY3RlZC5cbiAqL1xuZnVuY3Rpb24gcGFyc2VHcmlkKGdyaWQpIHtcbiAgbGV0IHZhbHVlcyA9IG5ldyBNYXAoKTtcbiAgc3F1YXJlcy5mb3JFYWNoKHMgPT4gdmFsdWVzLnNldChzLCBkaWdpdHMpKTtcblxuICBmb3IgKGxldCBbcywgZF0gb2YgZ3JpZFZhbHVlcyhncmlkKS5lbnRyaWVzKCkpIHtcbiAgICBpZiAoZGlnaXRzLmhhcyhkKSAmJiAhYXNzaWduKHZhbHVlcywgcywgZCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsdWVzO1xufVxuXG4vKipcbiAqIENvbnZlcnQgZ3JpZCBpbnRvIGEgZGljdCBvZiB7c3F1YXJlOiBjaGFyfSB3aXRoICcwJyBvciAnLicgZm9yIGVtcHRpZXMuXG4gKi9cbmZ1bmN0aW9uIGdyaWRWYWx1ZXMoZ3JpZCkge1xuICBsZXQgY2hhcnMgPSBncmlkLmZpbHRlcihjID0+IGRpZ2l0cy5oYXMoYykgfHwgYyA9PT0gJzAnIHx8IGMgPT09ICcuJyk7XG4gIGxldCB2YWx1ZXMgPSBuZXcgTWFwKCk7XG4gIGxldCBzID0gWy4uLnNxdWFyZXNdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xuICAgIHZhbHVlcy5zZXQoc1tpXSwgY2hhcnNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuLyoqXG4gKiBFbGltaW5hdGUgYWxsIHRoZSBvdGhlciB2YWx1ZXMgKGV4Y2VwdCBkKSBmcm9tIHZhbHVlc1tzXSBhbmQgcHJvcGFnYXRlLlxuICogUmV0dXJuIHZhbHVlcywgZXhjZXB0IHJldHVybiBGYWxzZSBpZiBhIGNvbnRyYWRpY3Rpb24gaXMgZGV0ZWN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbih2YWx1ZXMsIHMsIGQpIHtcbiAgbGV0IG90aGVycyA9IFsuLi52YWx1ZXMuZ2V0KHMpXS5maWx0ZXIoeCA9PiB4ICE9PSBkKTtcbiAgcmV0dXJuIGFsbChvdGhlcnMubWFwKGQyID0+IGVsaW1pbmF0ZSh2YWx1ZXMsIHMsIGQyKSkpID8gdmFsdWVzIDogZmFsc2U7XG59XG5cbi8qKlxuICogRWxpbWluYXRlIGQgZnJvbSB2YWx1ZXNbc107IHByb3BhZ2F0ZSB3aGVuIHZhbHVlcyBvciBwbGFjZXMgPD0gMi5cbiAqIFJldHVybiB2YWx1ZXMsIGV4Y2VwdCByZXR1cm4gRmFsc2UgaWYgYSBjb250cmFkaWN0aW9uIGlzIGRldGVjdGVkLlxuICovXG5mdW5jdGlvbiBlbGltaW5hdGUodmFsdWVzLCBzLCBkKSB7XG4gIGlmICghdmFsdWVzLmdldChzKS5oYXMoZCkpXG4gICAgcmV0dXJuIHZhbHVlcztcblxuICB2YWx1ZXMuc2V0KHMsIG5ldyBTZXQoWy4uLnZhbHVlcy5nZXQocyldLmZpbHRlcih4ID0+IHggIT09IGQpKSk7XG5cbiAgaWYgKCF2YWx1ZXMuZ2V0KHMpLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgfSBlbHNlIGlmICh2YWx1ZXMuZ2V0KHMpLnNpemUgPT09IDEpIHtcbiAgICBsZXQgZDIgPSBbLi4udmFsdWVzLmdldChzKV1bMF07XG5cbiAgICBpZiAoIWFsbChbLi4ucGVlcnMuZ2V0KHMpXS5tYXAoczIgPT4gZWxpbWluYXRlKHZhbHVlcywgczIsIGQyKSkpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yIChsZXQgdW5pdCBvZiB1bml0cy5nZXQocykpIHtcbiAgICBsZXQgZHBsYWNlcyA9IFsuLi51bml0XS5maWx0ZXIoczIgPT4gdmFsdWVzLmdldChzMikuaGFzKGQpKTtcblxuICAgIGlmICghZHBsYWNlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGRwbGFjZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAoIWFzc2lnbih2YWx1ZXMsIGRwbGFjZXNbMF0sIGQpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuZnVuY3Rpb24gc29sdmUoZ3JpZCkge1xuICByZXR1cm4gc2VhcmNoKHBhcnNlR3JpZChncmlkKSk7XG59XG5cbi8qKlxuICogVXNpbmcgZGVwdGgtZmlyc3Qgc2VhcmNoIGFuZCBwcm9wYWdhdGlvbiwgdHJ5IGFsbCBwb3NzaWJsZSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNlYXJjaCh2YWx1ZXMpIHtcbiAgaWYgKCF2YWx1ZXMpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChhbGwoWy4uLnNxdWFyZXNdLm1hcChzID0+IHZhbHVlcy5nZXQocykuc2l6ZSA9PT0gMSkpKVxuICAgIHJldHVybiB2YWx1ZXM7XG5cbiAgbGV0IHMgPSBbLi4uc3F1YXJlc11cbiAgICAgIC5maWx0ZXIocyA9PiB2YWx1ZXMuZ2V0KHMpLnNpemUgPiAxKVxuICAgICAgLnNvcnQoKHMxLCBzMikgPT4gdmFsdWVzLmdldChzMSkuc2l6ZSAtIHZhbHVlcy5nZXQoczIpLnNpemUpWzBdO1xuXG4gIHJldHVybiBzb21lKHZhbHVlcy5nZXQocyksIGQgPT4gc2VhcmNoKGFzc2lnbihuZXcgTWFwKHZhbHVlcyksIHMsIGQpKSk7XG59XG5cbi8qKlxuICogQSBwdXp6bGUgaXMgc29sdmVkIGlmIGVhY2ggdW5pdCBpcyBhIHBlcm11dGF0aW9uIG9mIHRoZSBkaWdpdHMgMSB0byA5LlxuICovXG5mdW5jdGlvbiBzb2x2ZWQodmFsdWVzKSB7XG4gIGZ1bmN0aW9uIHVuaXRTb2x2ZWQodW5pdCkge1xuICAgIGZvciAobGV0IHMgb2YgdW5pdCkge1xuICAgICAgbGV0IGRpZmYgPSBbLi4udmFsdWVzLmdldChzKV0uZmlsdGVyKGQgPT4gIWRpZ2l0cy5oYXMoZCkpO1xuICAgICAgaWYgKGRpZmYubGVuZ3RoID4gMCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlcyAmJiBhbGwodW5pdGxpc3QubWFwKHUgPT4gdW5pdFNvbHZlZCh1KSkpO1xufVxuXG4vKipcbiAqIE1ha2UgYSByYW5kb20gcHV6emxlIHdpdGggTiBvciBtb3JlIGFzc2lnbm1lbnRzLiBSZXN0YXJ0IG9uIGNvbnRyYWRpY3Rpb25zLlxuICogTm90ZSB0aGUgcmVzdWx0aW5nIHB1enpsZSBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBzb2x2YWJsZSwgYnV0IGVtcGlyaWNhbGx5XG4gKiBhYm91dCA5OS44JSBvZiB0aGVtIGFyZSBzb2x2YWJsZS4gU29tZSBoYXZlIG11bHRpcGxlIHNvbHV0aW9uc1xuICovXG5mdW5jdGlvbiByYW5kb21QdXp6bGUobiA9IDE3KSB7XG4gIGxldCB2YWx1ZXMgPSBuZXcgTWFwKCk7XG4gIHNxdWFyZXMuZm9yRWFjaChzID0+IHZhbHVlcy5zZXQocywgZGlnaXRzKSk7XG5cbiAgZm9yIChsZXQgcyBvZiBzaHVmZmxlKHNxdWFyZXMpKSB7XG4gICAgaWYgKCFhc3NpZ24odmFsdWVzLCBzLCByYW5kb21WYWx1ZSh2YWx1ZXMuZ2V0KHMpKSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGxldCBkcyA9IFsuLi5zcXVhcmVzXVxuICAgICAgICAuZmlsdGVyKHMgPT4gdmFsdWVzLmdldChzKS5zaXplID09PSAxKVxuICAgICAgICAubWFwKHMgPT4gdmFsdWVzLmdldChzKSk7XG5cbiAgICBpZiAoZHMubGVuZ3RoID49IG4gJiYgbmV3IFNldChkcykuc2l6ZSA+PSA4KSB7XG4gICAgICByZXR1cm4gWy4uLnNxdWFyZXNdXG4gICAgICAgICAgLm1hcChzID0+IHZhbHVlcy5nZXQocykuc2l6ZSA9PT0gMSA/IFsuLi52YWx1ZXMuZ2V0KHMpXVswXSA6ICcwJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJhbmRvbVB1enpsZShuKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tVmFsdWUodmFsdWVzKSB7XG4gIHJldHVybiBbLi4udmFsdWVzXVtnZXRSYW5kb21JbnQoMCwgdmFsdWVzLnNpemUgLSAxKV07XG59XG5cbmZ1bmN0aW9uIGlzVW5pcXVlKG9yaWdpbmFsLCB0ZXN0KSB7XG4gIGZvciAobGV0IFtzLCBkXSBvZiBvcmlnaW5hbCkge1xuICAgIGlmIChbLi4udGVzdC5nZXQocyldWzBdICE9PSBbLi4uZF1bMF0pIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgdGhyb3VnaCB0aGUgcmFuZG9tbHkgc2h1ZmZsZWQgc3F1YXJlcy5cbiAqIEFmdGVyIHJlbW92aW5nIGVhY2ggc3F1YXJlIGZyb20gdGhlIHNvbHV0aW9uXG4gKiBzb2x2ZSBpdCBhbmQgdGVzdCBpZiBpdCBpcyB0aGUgc2FtZSBhcyB0aGUgb3JpZ2luYWwuXG4gKiBJZiB0aGUgc29sdXRpb24gZG9lc24ndCBtYXRjaCB1bmRvIHRoZSByZW1vdmFsIGFuZFxuICogdHJ5IGFub3RoZXIgc3F1YXJlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVQdXp6bGUoc29sdXRpb24pIHtcbiAgbGV0IHB1enpsZSA9IFtdO1xuICBsZXQgaW5kaWNlcyA9IHt9O1xuICBsZXQgc2h1ZmZsZWQgPSBzaHVmZmxlKHNxdWFyZXMpO1xuXG4gIFsuLi5zcXVhcmVzXS5mb3JFYWNoKChzLCBpKSA9PiB7XG4gICAgcHV6emxlLnB1c2goWy4uLnNvbHV0aW9uLmdldChzKV1bMF0pO1xuICAgIGluZGljZXNbc10gPSBpO1xuICB9KTtcblxuICBsZXQgcmVzdWx0ID0gbmV3IE1hcCgpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2h1ZmZsZWQubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgaiA9IGluZGljZXNbc2h1ZmZsZWRbaV1dO1xuICAgIGxldCB2ID0gcHV6emxlW2pdO1xuICAgIHB1enpsZVtqXSA9ICcwJztcblxuICAgIGlmICghaXNVbmlxdWUoc29sdXRpb24sIHNvbHZlKHB1enpsZSkpKSB7XG4gICAgICBwdXp6bGVbal0gPSB2O1xuICAgICAgcmVzdWx0LnNldChzaHVmZmxlZFtpXSwgdik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5zZXQoc2h1ZmZsZWRbaV0sICcwJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRHYW1lOiAoZGlmZmljdWx0eSA9IGxldmVsLmVhc3kpID0+IHtcbiAgICBsZXQgc29sdXRpb24gPSBzb2x2ZShyYW5kb21QdXp6bGUoODEgLSBkaWZmaWN1bHR5KSk7XG5cbiAgICB3aGlsZSAoIXNvbHZlZChzb2x1dGlvbikpIHtcbiAgICAgIHNvbHV0aW9uID0gc29sdmUocmFuZG9tUHV6emxlKCkpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBwdXp6bGU6IGNyZWF0ZVB1enpsZShzb2x1dGlvbiksXG4gICAgICBzb2x1dGlvbjogc29sdXRpb25cbiAgICB9O1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBnZXRMb3dlckNhc2VSb3dzLFxuICBnZXRDb2xzLFxuICBnZXRTcXVhcmVzLFxuICBnZXRQZWVycywgZ2V0VW5pdHMsIGdldFVuaXRMaXN0XG59IGZyb20gXCIuL3N1ZG9rdS1ncmlkLXV0aWxcIjtcblxuY29uc3QgbiA9IDk7XG5jb25zdCBzcXVhcmVDbGFzcyA9ICdjb2wtMSBzcXVhcmUnO1xuY29uc3QgY29udGVudENsYXNzID0gJ3NxdWFyZS1jb250ZW50JztcblxubGV0IGNyZWF0ZVJvdyA9IChjZWxsU2l6ZSkgPT4ge1xuICBsZXQgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHJvdy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3JvdycpO1xuICByb3cuc3R5bGUuaGVpZ2h0ID0gYCR7Y2VsbFNpemV9cHhgO1xuXG4gIHJldHVybiByb3c7XG59O1xuXG5sZXQgY3JlYXRlU3F1YXJlID0gKGNlbGxTaXplKSA9PiB7XG4gIGxldCBzcXVhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc3F1YXJlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBzcXVhcmVDbGFzcyk7XG5cbiAgc3F1YXJlLnN0eWxlLmhlaWdodCA9IGAke2NlbGxTaXplfXB4YDtcbiAgc3F1YXJlLnN0eWxlLndpZHRoID0gYCR7Y2VsbFNpemV9cHhgO1xuICBzcXVhcmUuc3R5bGUubWF4V2lkdGggPSBgJHtjZWxsU2l6ZX1weGA7XG4gIHNxdWFyZS5zdHlsZS5mbGV4ID0gYDAgMCAke2NlbGxTaXplfXB4YDtcblxuICByZXR1cm4gc3F1YXJlO1xufTtcblxubGV0IGNyZWF0ZVNxdWFyZUNvbnRlbnQgPSAoaWQpID0+IHtcbiAgbGV0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29udGVudC5pZCA9IGlkO1xuICBjb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjb250ZW50Q2xhc3MpO1xuXG4gIHJldHVybiBjb250ZW50O1xufTtcblxubGV0IHRvTG93ZXJDYXNlID0gKHNxdWFyZXMpID0+IHtcbiAgbGV0IHJlc3VsdCA9IG5ldyBNYXAoKTtcbiAgZm9yIChsZXQgW3MsIGRdIG9mIHNxdWFyZXMpIHtcbiAgICByZXN1bHQuc2V0KHMudG9Mb3dlckNhc2UoKSwgbmV3IFNldChbLi4uZF0ubWFwKGQxID0+IGQxLnRvTG93ZXJDYXNlKCkpKSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkKGlkPSdncmlkLWNvbnRhaW5lcicpIHtcbiAgbGV0IHJvd3MgPSBbLi4uZ2V0TG93ZXJDYXNlUm93cygpXTtcbiAgbGV0IGNvbHMgPSBbLi4uZ2V0Q29scygpXTtcblxuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgbGV0IHNxdWFyZXMgPSBuZXcgTWFwKCk7XG4gIGxldCBjZWxsU2l6ZSA9IGVsZW1lbnQub2Zmc2V0V2lkdGggPyAoZWxlbWVudC5vZmZzZXRXaWR0aCAvIG4pIC0gMyA6IDUwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgbGV0IHJvdyA9IGNyZWF0ZVJvdyhjZWxsU2l6ZSk7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IG47IGorKykge1xuICAgICAgbGV0IGlkID0gYCR7cm93c1tpXX0ke2NvbHNbal19YDtcbiAgICAgIGxldCBzcXVhcmUgPSBjcmVhdGVTcXVhcmUoY2VsbFNpemUpO1xuICAgICAgbGV0IGNvbnRlbnQgPSBjcmVhdGVTcXVhcmVDb250ZW50KGlkKTtcblxuICAgICAgc3F1YXJlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgcm93LmFwcGVuZENoaWxkKHNxdWFyZSk7XG4gICAgICBzcXVhcmVzLnNldChpZCwgY29udGVudCk7XG4gICAgfVxuXG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG5cbiAgbGV0IHMgPSBnZXRTcXVhcmVzKCk7XG4gIGxldCB1ID0gZ2V0VW5pdExpc3QoKTtcbiAgbGV0IHBlZXJJZHMgPSB0b0xvd2VyQ2FzZShnZXRQZWVycyhzLCBnZXRVbml0cyhzLCB1KSkpO1xuICBsZXQgcGVlcnMgPSBuZXcgTWFwKCk7XG5cbiAgZm9yIChsZXQgW3MsIHBdIG9mIHBlZXJJZHMpIHtcbiAgICBwZWVycy5zZXQocywgWy4uLnBdLm1hcCh4ID0+IHNxdWFyZXMuZ2V0KHgpKSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBlZXJzOiBwZWVycyxcbiAgICBzcXVhcmVzOiBzcXVhcmVzXG4gIH07XG59XG4iLCJpbXBvcnQge2J1aWxkfSBmcm9tICcuL3N1ZG9rdS1ncmlkLWJ1aWxkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdWRva3VHcmlkIHtcbiAgY29uc3RydWN0b3IoaWQ9J2dyaWQtY29udGFpbmVyJykge1xuICAgIHRoaXMuZ3JpZCA9IGJ1aWxkKGlkKTtcbiAgICB0aGlzLnBlZXJzID0gdGhpcy5ncmlkLnBlZXJzO1xuICAgIHRoaXMuc3F1YXJlcyA9IHRoaXMuZ3JpZC5zcXVhcmVzO1xuICB9XG5cbiAgZmlsbENsdWVzKGNsdWVzKSB7XG4gICAgZm9yIChsZXQgW3MsIGRdIG9mIGNsdWVzKSB7XG4gICAgICBsZXQgY2x1ZSA9IFsuLi5kXVswXTtcbiAgICAgIGxldCBzcXVhcmUgPSB0aGlzLnNxdWFyZXMuZ2V0KHMudG9Mb3dlckNhc2UoKSk7XG5cbiAgICAgIGlmIChjbHVlID09PSAnMCcgfHwgY2x1ZSA9PT0gJy4nKSB7XG4gICAgICAgIHNxdWFyZS5pbm5lckhUTUwgPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNxdWFyZS5jbGFzc0xpc3QuYWRkKCdjbHVlJyk7XG4gICAgICAgIHNxdWFyZS5pbm5lckhUTUwgPSBjbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldFNxdWFyZVZhbHVlKHZhbHVlLCBwdXp6bGUpIHtcbiAgICBpZiAodGhpcy5oaWdobGlnaHRlZFNxdWFyZSkge1xuICAgICAgcHV6emxlLnNldCh0aGlzLmhpZ2hsaWdodGVkU3F1YXJlLmlkLnRvVXBwZXJDYXNlKCksIG5ldyBTZXQodmFsdWUpKTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRTcXVhcmUuaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgaGlnaGxpZ2h0U3F1YXJlKHNxdWFyZSkge1xuICAgIGlmICghc3F1YXJlLmNsYXNzTGlzdC5jb250YWlucygnY2x1ZScpKSB7XG4gICAgICBpZiAodGhpcy5oaWdobGlnaHRlZFNxdWFyZSkge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodGVkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQtY29udGVudCcpO1xuICAgICAgICB0aGlzLmhpZ2hsaWdodGVkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhpZ2hsaWdodGVkU3F1YXJlID0gc3F1YXJlO1xuICAgICAgdGhpcy5oaWdobGlnaHRlZFNxdWFyZS5jbGFzc0xpc3QuYWRkKCdmb2N1c2VkLWNvbnRlbnQnKTtcbiAgICB9XG4gIH1cblxuICBoaWdobGlnaHRQZWVycyhzcXVhcmUpIHtcbiAgICBpZiAoIXRoaXMuc3F1YXJlcy5nZXQoc3F1YXJlKS5jbGFzc0xpc3QuY29udGFpbnMoJ2NsdWUnKSkge1xuICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRQZWVycykge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodGVkUGVlcnMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICBpZiAocC5pZCAhPT0gc3F1YXJlKSBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5oaWdobGlnaHRlZFBlZXJzID0gdGhpcy5wZWVycy5nZXQoc3F1YXJlKTtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRQZWVycy5mb3JFYWNoKHAgPT4gcC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKSk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0ICcuLi9jc3MvbWFpbi5jc3MnO1xuaW1wb3J0IFN1ZG9rdSBmcm9tIFwiLi9zdWRva3VcIjtcblxubmV3IFN1ZG9rdSgpOyIsImltcG9ydCBnZW5lcmF0b3IgZnJvbSAnLi9zdWRva3UtZ2VuZXJhdG9yJztcbmltcG9ydCBTdWRva3VHcmlkIGZyb20gJy4vc3Vkb2t1LWdyaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdWRva3Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmdhbWUgPSBnZW5lcmF0b3IuZ2V0R2FtZSgpO1xuICAgIHRoaXMucHV6emxlID0gdGhpcy5nYW1lLnB1enpsZTtcbiAgICB0aGlzLm9yaWdpbmFsID0gbmV3IE1hcCh0aGlzLnB1enpsZSk7XG4gICAgdGhpcy5zb2x1dGlvbiA9IHRoaXMuZ2FtZS5zb2x1dGlvbjtcblxuICAgIHRoaXMuZ3JpZCA9IG5ldyBTdWRva3VHcmlkKCk7XG4gICAgdGhpcy5ncmlkLmZpbGxDbHVlcyh0aGlzLnB1enpsZSk7XG5cbiAgICB0aGlzLnNldEtleUlucHV0RXZlbnRzKCk7XG4gICAgdGhpcy5zZXRCdG5JbnB1dEV2ZW50cygpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0Jykub25jbGljayA9ICgpID0+IHRoaXMucmVzZXQoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJhc2UnKS5vbmNsaWNrID0gKCkgPT4gdGhpcy5lcmFzZSgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5wdXp6bGUgPSBuZXcgTWFwKHRoaXMub3JpZ2luYWwpO1xuICAgIHRoaXMuZ3JpZC5maWxsQ2x1ZXModGhpcy5wdXp6bGUpO1xuICB9XG5cbiAgZXJhc2UoKSB7XG4gICAgdGhpcy5ncmlkLnNldFNxdWFyZVZhbHVlKCcnLCB0aGlzLnB1enpsZSk7XG4gIH1cblxuICBzZXRCdG5JbnB1dEV2ZW50cygpIHtcbiAgICBsZXQgZ3JpZCA9IHRoaXMuZ3JpZDtcbiAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5udW1iZXItYnRuJyk7XG5cbiAgICBidXR0b25zLmZvckVhY2goYiA9PiB7XG4gICAgICBiLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIGdyaWQuc2V0U3F1YXJlVmFsdWUoYi52YWx1ZSwgdGhpcy5wdXp6bGUpO1xuICAgICAgICBpZiAodGhpcy5zb2x2ZWQoKSkgU3Vkb2t1LmRpc3BsYXlNZXNzYWdlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzZXRLZXlJbnB1dEV2ZW50cygpIHtcbiAgICBsZXQgZ3JpZCA9IHRoaXMuZ3JpZDtcbiAgICBsZXQgc3F1YXJlcyA9IHRoaXMuZ3JpZC5zcXVhcmVzO1xuXG4gICAgLy8gU2V0dXAgdG91Y2gvY2xpY2sgZXZlbnRzIGZvciBlYWNoIHNxdWFyZS5cbiAgICBmb3IgKGxldCBbcywgZWxdIG9mIHNxdWFyZXMpIHtcbiAgICAgIGVsLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIGdyaWQuaGlnaGxpZ2h0U3F1YXJlKGVsKTtcbiAgICAgICAgZ3JpZC5oaWdobGlnaHRQZWVycyhzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbnB1dCBldmVudFxuICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IChlKSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBlLmtleTtcbiAgICAgIGxldCBrZXljb2RlID0gZS5rZXlDb2RlO1xuXG4gICAgICBpZiAoa2V5Y29kZSA+PSA0OSAmJiBrZXljb2RlIDw9IDU3KSB7XG4gICAgICAgIGdyaWQuc2V0U3F1YXJlVmFsdWUodmFsdWUsIHRoaXMucHV6emxlKTtcbiAgICAgICAgaWYgKHRoaXMuc29sdmVkKCkpIFN1ZG9rdS5kaXNwbGF5TWVzc2FnZSgpXG5cbiAgICAgIH0gZWxzZSBpZiAoa2V5Y29kZSA9PT0gOCkge1xuICAgICAgICBncmlkLnNldFNxdWFyZVZhbHVlKCcnLCB0aGlzLnB1enpsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc29sdmVkKCkge1xuICAgIGZvciAobGV0IFtzLCBkXSBvZiB0aGlzLnNvbHV0aW9uKSB7XG4gICAgICBpZiAoWy4uLnRoaXMucHV6emxlLmdldChzKV1bMF0gIT09IFsuLi5kXVswXSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc3RhdGljIGRpc3BsYXlNZXNzYWdlKCkge1xuICAgIHdpbmRvdy5hbGVydChgQ29uZ3JhdHVsYXRpb25zISBZb3Ugc29sdmVkIHRoZSBwdXp6bGUuYClcbiAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=