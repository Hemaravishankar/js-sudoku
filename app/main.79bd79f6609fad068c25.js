!function(t){function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var n={};r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=0)}([function(t,r,n){"use strict";function e(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}var o=function(){function t(t,r){var n=[],e=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(e=(i=u.next()).done)&&(n.push(i.value),!r||n.length!==r);e=!0);}catch(t){o=!0,a=t}finally{try{!e&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(a);n(2);var u=i.default.getPuzzle(),c=i.default.peers,f=function(t){var r=document.getElementById("grid-container"),n=["a","b","c","d","e","f","g","h","i"],a=[1,2,3,4,5,6,7,8,9].map(function(t){return t.toString()}),i=new Map,u=new Map,c=new Map,f=void 0,l=void 0,v=!0,y=!1,s=void 0;try{for(var d,h=t[Symbol.iterator]();!(v=(d=h.next()).done);v=!0){var g=d.value,p=o(g,2),w=p[0],m=p[1];i.set(w.toLowerCase(),new Set([].concat(e(m)).map(function(t){return t.toLowerCase()})))}}catch(t){y=!0,s=t}finally{try{!v&&h.return&&h.return()}finally{if(y)throw s}}for(var b=r.offsetWidth/9-3,S=function(t){l&&l.forEach(function(r){r.id!==t&&r.setAttribute("class","square-content")}),l=c.get(t),l.forEach(function(t){return t.setAttribute("class","square-content highlight")})},x=function(t){f&&f.setAttribute("class","square-content"),f=t.target,f.setAttribute("class","square-content focused-content"),S(t.target.id)},A=function(t){x(t)},M=function(t){t.keyCode>=49&&t.keyCode<=57?f&&(f.innerHTML=t.key):8===t.keyCode&&f&&(f.innerHTML="")},z=0;z<9;z++){var E=document.createElement("div");E.setAttribute("class","row"),E.style.height=b+"px";for(var C=0;C<9;C++){var k=""+n[z]+a[C],q=document.createElement("div");q.id=k,q.setAttribute("class","col-1 square"),q.style.height=b+"px",q.style.width=b+"px",q.style.maxWidth=b+"px",q.style.flex="0 0 "+b+"px";var L=document.createElement("div");L.id=k,L.setAttribute("class","square-content"),L.onclick=A,document.onkeydown=M,q.appendChild(L),E.appendChild(q),u.set(k,L)}r.appendChild(E)}var O=!0,_=!1,j=void 0;try{for(var H,I=i[Symbol.iterator]();!(O=(H=I.next()).done);O=!0){var P=H.value,T=o(P,2),B=T[0],D=T[1];c.set(B,[].concat(e(D)).map(function(t){return u.get(t)}))}}catch(t){_=!0,j=t}finally{try{!O&&I.return&&I.return()}finally{if(_)throw j}}return u}(c),l=!0,v=!1,y=void 0;try{for(var s,d=u.puzzle[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var h=s.value,g=o(h,2),p=g[0],w=g[1];f.get(p.toLowerCase()).innerHTML="0"===[].concat(e(w))[0]?"":[].concat(e(w))[0]}}catch(t){v=!0,y=t}finally{try{!l&&d.return&&d.return()}finally{if(v)throw y}}},function(t,r,n){"use strict";function e(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}function o(t,r){var n=new Set,e=!0,o=!1,a=void 0;try{for(var i,u=t.values()[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var c=i.value,f=!0,l=!1,v=void 0;try{for(var y,s=(r.values()||r)[Symbol.iterator]();!(f=(y=s.next()).done);f=!0){var d=y.value;n.add(c+d)}}catch(t){l=!0,v=t}finally{try{!f&&s.return&&s.return()}finally{if(l)throw v}}}}catch(t){o=!0,a=t}finally{try{!e&&u.return&&u.return()}finally{if(o)throw a}}return n}function a(t){var r=new Map;M.forEach(function(t){return r.set(t,x)});var n=!0,e=!1,o=void 0;try{for(var a,c=i(t).entries()[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var f=a.value,l=b(f,2),v=l[0],y=l[1];if(x.has(y)&&!u(r,v,y))return!1}}catch(t){e=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(e)throw o}}return r}function i(t){var r=t.filter(function(t){return x.has(t)||"0"===t||"."===t}),n=new Map,o=[].concat(e(M));console.assert(81===r.length);for(var a=0;a<o.length;a++)n.set(o[a],r[a]);return n}function u(t,r,n){return!!s([].concat(e(t.get(r))).filter(function(t){return t!==n}).map(function(n){return c(t,r,n)}))&&t}function c(t,r,n){if(!t.get(r).has(n))return t;if(t.set(r,new Set([].concat(e(t.get(r))).filter(function(t){return t!==n}))),!t.get(r).size)return!1;if(1===t.get(r).size){var o=[].concat(e(t.get(r)))[0];if(!s([].concat(e(k.get(r))).map(function(r){return c(t,r,o)})))return!1}var a=!0,i=!1,f=void 0;try{for(var l,v=C.get(r)[Symbol.iterator]();!(a=(l=v.next()).done);a=!0){var y=l.value,d=[].concat(e(y)).filter(function(r){return t.get(r).has(n)});if(!d.length)return!1;if(1===d.length&&!u(t,d[0],n))return!1}}catch(t){i=!0,f=t}finally{try{!a&&v.return&&v.return()}finally{if(i)throw f}}return t}function f(t){return l(a(t))}function l(t){if(!t)return!1;if(s([].concat(e(M)).map(function(r){return 1===t.get(r).size})))return t;var r=[].concat(e(M)).filter(function(r){return t.get(r).size>1}).sort(function(r,n){return t.get(r).size-t.get(n).size})[0];return v(t.get(r),function(n){return l(u(new Map(t),r,n))})}function v(t,r){var n=!0,e=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,c=r(u);if(c)return c}}catch(t){e=!0,o=t}finally{try{!n&&i.return&&i.return()}finally{if(e)throw o}}return!1}function y(t){for(var r=[].concat(e(t)),n=r.length,o=void 0,a=void 0;0!==n;)a=Math.floor(Math.random()*n),n-=1,o=r[n],r[n]=r[a],r[a]=o;return r}function s(t){var r=!0,n=!1,e=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){if(!o.value)return!1}}catch(t){n=!0,e=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw e}}return!0}function d(t){function r(r){var n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;if([].concat(e(t.get(c))).filter(function(t){return!x.has(t)}).length>0)return!1}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return!0}return t&&s(E.map(function(t){return r(t)}))}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:17,r=new Map;M.forEach(function(t){return r.set(t,x)});var n=!0,o=!1,a=void 0;try{for(var i,c=y(M)[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var f=i.value;if(!u(r,f,g(r.get(f))))break;var l=[].concat(e(M)).filter(function(t){return 1===r.get(t).size}).map(function(t){return r.get(t)});if(l.length>=t&&new Set(l).size>=8)return[].concat(e(M)).map(function(t){return 1===r.get(t).size?[].concat(e(r.get(t)))[0]:"0"})}}catch(t){o=!0,a=t}finally{try{!n&&c.return&&c.return()}finally{if(o)throw a}}return h(t)}function g(t){return[].concat(e(t))[p(0,t.size-1)]}function p(t,r){return Math.floor(Math.random()*(r-t+1))+t}function w(t,r){var n=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value,f=b(c,2),l=f[0],v=f[1];if([].concat(e(r.get(l)))[0]!==[].concat(e(v))[0])return!1}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return!0}function m(t){var r=[],n={},o=y(M),a=new Map,i=new Map;[].concat(e(M)).forEach(function(o,a){r.push([].concat(e(t.get(o)))[0]),n[o]=a});for(var u=0;u<o.length;u++){var c=n[o[u]],l=r[c];r[c]="0",w(t,f(r))?(a.set(o[u],"0"),i.set(o[u],l)):(r[c]=l,a.set(o[u],l))}return a}Object.defineProperty(r,"__esModule",{value:!0});var b=function(){function t(t,r){var n=[],e=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(e=(i=u.next()).done)&&(n.push(i.value),!r||n.length!==r);e=!0);}catch(t){o=!0,a=t}finally{try{!e&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=new Set(["A","B","C","D","E","F","G","H","I"]),x=new Set(["1","2","3","4","5","6","7","8","9"]),A=new Set(x),M=o(S,A),z={easy:28,medium:37,hard:45,master:65},E=[].concat(e(A)).map(function(t){return o(S,new Set(t))}).concat([].concat(e(S)).map(function(t){return o(new Set(t),A)})).concat(function(){for(var t=[["A","B","C"],["D","E","F"],["G","H","I"]],r=[["1","2","3"],["4","5","6"],["7","8","9"]],n=[],e=0;e<t.length;e++)for(var a=0;a<r.length;a++)n.push(o(new Set(t[e]),new Set(r[a])));return n}()),C=new Map,k=new Map,q=!0,L=!1,O=void 0;try{for(var _,j=M[Symbol.iterator]();!(q=(_=j.next()).done);q=!0){var H=_.value;!function(t){C.set(t,E.filter(function(r){return r.has(t)}));var r=C.get(t);k.set(t,new Set([].concat(e(new Set([].concat(e(r[0]),e(r[1]),e(r[2]))))).filter(function(r){return r!==t})))}(H)}}catch(t){L=!0,O=t}finally{try{!q&&j.return&&j.return()}finally{if(L)throw O}}r.default={getPuzzle:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.easy,r=f(h(81-t));!d(r);)r=f(h());return{solution:r,puzzle:m(r)}},peers:k}},function(t,r){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbWFpbi43OWJkNzlmNjYwOWZhZDA2OGMyNS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNzliZDc5ZjY2MDlmYWQwNjhjMjUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3N1ZG9rdS11aS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvc3Vkb2t1LmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJhcnIyIiwibGVuZ3RoIiwiZnJvbSIsIl9zbGljZWRUb0FycmF5Iiwic2xpY2VJdGVyYXRvciIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJ1bmRlZmluZWQiLCJfcyIsIl9pIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImVyciIsIlR5cGVFcnJvciIsIl9zdWRva3UiLCJfc3Vkb2t1MiIsIm9iaiIsImRlZmF1bHQiLCJwdXp6bGUiLCJnZXRQdXp6bGUiLCJwZWVycyIsInNxdWFyZXMiLCJncmlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJvd3MiLCJjb2xzIiwibWFwIiwieCIsInRvU3RyaW5nIiwicGVlcklkcyIsIk1hcCIsInNxdWFyZVBlZXJzIiwiZm9jdXNlZFNxdWFyZSIsImhpZ2hsaWdodGVkUGVlcnMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX3JlZiIsIl9yZWYyIiwic2V0IiwidG9Mb3dlckNhc2UiLCJTZXQiLCJjb25jYXQiLCJyZXR1cm4iLCJjZWxsU2l6ZSIsIm9mZnNldFdpZHRoIiwiaGlnaGxpZ2h0UGVlcnMiLCJmb3JFYWNoIiwiaWQiLCJzZXRBdHRyaWJ1dGUiLCJjb250ZW50Q2xhc3MiLCJoaWdobGlnaHRTcXVhcmUiLCJlIiwidGFyZ2V0Iiwib25TcXVhcmVDbGljayIsIm9uSW5wdXQiLCJrZXlDb2RlIiwiaW5uZXJIVE1MIiwia2V5Iiwicm93IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiaGVpZ2h0IiwiaiIsInNxdWFyZSIsIndpZHRoIiwibWF4V2lkdGgiLCJmbGV4IiwiY29udGVudCIsIm9uY2xpY2siLCJvbmtleWRvd24iLCJhcHBlbmRDaGlsZCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsIl9yZWYzIiwiX3JlZjQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyIsIl9kaWRJdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvckVycm9yMyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJfcmVmNSIsIl9yZWY2IiwiY3Jvc3MiLCJhIiwiYiIsInZhbHVlcyIsImExIiwiYjEiLCJhZGQiLCJwYXJzZUdyaWQiLCJkaWdpdHMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCIsIl9kaWRJdGVyYXRvckVycm9yNCIsIl9pdGVyYXRvckVycm9yNCIsIl9zdGVwNCIsIl9pdGVyYXRvcjQiLCJncmlkVmFsdWVzIiwiZW50cmllcyIsImhhcyIsImFzc2lnbiIsImNoYXJzIiwiZmlsdGVyIiwiY29uc29sZSIsImFzc2VydCIsImFsbCIsImQyIiwiZWxpbWluYXRlIiwic2l6ZSIsInMyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUiLCJfZGlkSXRlcmF0b3JFcnJvcjUiLCJfaXRlcmF0b3JFcnJvcjUiLCJfc3RlcDUiLCJfaXRlcmF0b3I1IiwidW5pdHMiLCJ1bml0IiwiZHBsYWNlcyIsInNvbHZlIiwic2VhcmNoIiwic29ydCIsInMxIiwic29tZSIsInNlcSIsImZ1bmMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiIsIl9kaWRJdGVyYXRvckVycm9yNiIsIl9pdGVyYXRvckVycm9yNiIsIl9zdGVwNiIsIl9pdGVyYXRvcjYiLCJyZXN1bHQiLCJzaHVmZmxlIiwiYXJyYXkiLCJjdXJyZW50SW5kZXgiLCJ0ZW1wb3JhcnlWYWx1ZSIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjciLCJfZGlkSXRlcmF0b3JFcnJvcjciLCJfaXRlcmF0b3JFcnJvcjciLCJfc3RlcDciLCJfaXRlcmF0b3I3Iiwic29sdmVkIiwidW5pdFNvbHZlZCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb244IiwiX2RpZEl0ZXJhdG9yRXJyb3I4IiwiX2l0ZXJhdG9yRXJyb3I4IiwiX3N0ZXA4IiwiX2l0ZXJhdG9yOCIsInVuaXRsaXN0IiwidSIsInJhbmRvbVB1enpsZSIsImFyZ3VtZW50cyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb245IiwiX2RpZEl0ZXJhdG9yRXJyb3I5IiwiX2l0ZXJhdG9yRXJyb3I5IiwiX3N0ZXA5IiwiX2l0ZXJhdG9yOSIsInJhbmRvbVZhbHVlIiwiZHMiLCJnZXRSYW5kb21JbnQiLCJtaW4iLCJtYXgiLCJpc1VuaXF1ZSIsIm9yaWdpbmFsIiwidGVzdCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24xMCIsIl9kaWRJdGVyYXRvckVycm9yMTAiLCJfaXRlcmF0b3JFcnJvcjEwIiwiX3N0ZXAxMCIsIl9pdGVyYXRvcjEwIiwiY3JlYXRlUHV6emxlIiwic29sdXRpb24iLCJpbmRpY2VzIiwic2h1ZmZsZWQiLCJoaWRkZW5TcXVhcmVzIiwidiIsImxldmVsIiwiZWFzeSIsIm1lZGl1bSIsImhhcmQiLCJtYXN0ZXIiLCJyIiwiZGlmZmljdWx0eSJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUksRUFBQUosRUFDQUssR0FBQSxFQUNBSCxXQVVBLE9BTkFKLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0E0QkFGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFVLEVBQUEsU0FBQVAsRUFBQVEsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVYsRUFBQVEsSUFDQUcsT0FBQUMsZUFBQVosRUFBQVEsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFmLEdBQ0EsR0FBQVEsR0FBQVIsS0FBQWdCLFdBQ0EsV0FBMkIsTUFBQWhCLEdBQUEsU0FDM0IsV0FBaUMsTUFBQUEsR0FFakMsT0FEQUosR0FBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFRLEVBQUFDLEdBQXNELE1BQUFSLFFBQUFTLFVBQUFDLGVBQUFqQixLQUFBYyxFQUFBQyxJQUd0RHRCLEVBQUF5QixFQUFBLEdBR0F6QixJQUFBMEIsRUFBQSxLRE1NLFNBQVV0QixFQUFRRCxFQUFTSCxHQUVqQyxZQWFBLFNBQVMyQixHQUFtQkMsR0FBTyxHQUFJQyxNQUFNQyxRQUFRRixHQUFNLENBQUUsSUFBSyxHQUFJdkIsR0FBSSxFQUFHMEIsRUFBT0YsTUFBTUQsRUFBSUksUUFBUzNCLEVBQUl1QixFQUFJSSxPQUFRM0IsSUFBTzBCLEVBQUsxQixHQUFLdUIsRUFBSXZCLEVBQU0sT0FBTzBCLEdBQWUsTUFBT0YsT0FB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VmxLLE9BQVFpSyxFQUFhQyxLQUd6QmhLLE1BQU9BLElIb2lCSCxTQUFVckQsRUFBUUQiLCJmaWxlIjoibWFpbi43OWJkNzlmNjYwOWZhZDA2OGMyNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX3N1ZG9rdSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfc3Vkb2t1MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N1ZG9rdSk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG52YXIgcmVuZGVyR3JpZCA9IGZ1bmN0aW9uIHJlbmRlckdyaWQocGVlcnMpIHtcblxuICB2YXIgZ3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkLWNvbnRhaW5lcicpO1xuICB2YXIgcm93cyA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnLCAnZycsICdoJywgJ2knXTtcbiAgdmFyIGNvbHMgPSBbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOV0ubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHgudG9TdHJpbmcoKTtcbiAgfSk7XG5cbiAgdmFyIHBlZXJJZHMgPSBuZXcgTWFwKCk7XG4gIHZhciBzcXVhcmVzID0gbmV3IE1hcCgpO1xuICB2YXIgc3F1YXJlUGVlcnMgPSBuZXcgTWFwKCk7XG5cbiAgdmFyIGZvY3VzZWRTcXVhcmUgPSB2b2lkIDA7XG4gIHZhciBoaWdobGlnaHRlZFBlZXJzID0gdm9pZCAwO1xuXG4gIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICB0cnkge1xuICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHBlZXJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgdmFyIF9yZWYgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMik7XG5cbiAgICAgIHZhciBzID0gX3JlZjJbMF07XG4gICAgICB2YXIgcCA9IF9yZWYyWzFdO1xuXG4gICAgICBwZWVySWRzLnNldChzLnRvTG93ZXJDYXNlKCksIG5ldyBTZXQoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwKSkubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LnRvTG93ZXJDYXNlKCk7XG4gICAgICB9KSkpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgbiA9IDk7XG4gIHZhciBjZWxsU2l6ZSA9IGdyaWQub2Zmc2V0V2lkdGggLyBuIC0gMztcblxuICB2YXIgc3F1YXJlQ2xhc3MgPSAnY29sLTEgc3F1YXJlJztcbiAgdmFyIGNvbnRlbnRDbGFzcyA9ICdzcXVhcmUtY29udGVudCc7XG5cbiAgdmFyIGhpZ2hsaWdodFBlZXJzID0gZnVuY3Rpb24gaGlnaGxpZ2h0UGVlcnMocykge1xuICAgIGlmIChoaWdobGlnaHRlZFBlZXJzKSBoaWdobGlnaHRlZFBlZXJzLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgIGlmIChwLmlkICE9PSBzKSBwLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjb250ZW50Q2xhc3MpO1xuICAgIH0pO1xuXG4gICAgaGlnaGxpZ2h0ZWRQZWVycyA9IHNxdWFyZVBlZXJzLmdldChzKTtcbiAgICBoaWdobGlnaHRlZFBlZXJzLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgIHJldHVybiBwLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjb250ZW50Q2xhc3MgKyAnIGhpZ2hsaWdodCcpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBoaWdobGlnaHRTcXVhcmUgPSBmdW5jdGlvbiBoaWdobGlnaHRTcXVhcmUoZSkge1xuICAgIGlmIChmb2N1c2VkU3F1YXJlKSBmb2N1c2VkU3F1YXJlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjb250ZW50Q2xhc3MpO1xuXG4gICAgZm9jdXNlZFNxdWFyZSA9IGUudGFyZ2V0O1xuICAgIGZvY3VzZWRTcXVhcmUuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNvbnRlbnRDbGFzcyArICcgZm9jdXNlZC1jb250ZW50Jyk7XG4gICAgaGlnaGxpZ2h0UGVlcnMoZS50YXJnZXQuaWQpO1xuICB9O1xuXG4gIHZhciBvblNxdWFyZUNsaWNrID0gZnVuY3Rpb24gb25TcXVhcmVDbGljayhlKSB7XG4gICAgaGlnaGxpZ2h0U3F1YXJlKGUpO1xuICB9O1xuXG4gIHZhciBvbklucHV0ID0gZnVuY3Rpb24gb25JbnB1dChlKSB7XG4gICAgaWYgKGUua2V5Q29kZSA+PSA0OSAmJiBlLmtleUNvZGUgPD0gNTcpIHtcbiAgICAgIGlmIChmb2N1c2VkU3F1YXJlKSBmb2N1c2VkU3F1YXJlLmlubmVySFRNTCA9IGUua2V5O1xuICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSA4KSB7XG4gICAgICBpZiAoZm9jdXNlZFNxdWFyZSkgZm9jdXNlZFNxdWFyZS5pbm5lckhUTUwgPSAnJztcbiAgICB9XG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncm93Jyk7XG4gICAgcm93LnN0eWxlLmhlaWdodCA9IGNlbGxTaXplICsgJ3B4JztcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbjsgaisrKSB7XG4gICAgICB2YXIgaWQgPSAnJyArIHJvd3NbaV0gKyBjb2xzW2pdO1xuICAgICAgdmFyIHNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICBzcXVhcmUuaWQgPSBpZDtcbiAgICAgIHNxdWFyZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgc3F1YXJlQ2xhc3MpO1xuXG4gICAgICBzcXVhcmUuc3R5bGUuaGVpZ2h0ID0gY2VsbFNpemUgKyAncHgnO1xuICAgICAgc3F1YXJlLnN0eWxlLndpZHRoID0gY2VsbFNpemUgKyAncHgnO1xuICAgICAgc3F1YXJlLnN0eWxlLm1heFdpZHRoID0gY2VsbFNpemUgKyAncHgnO1xuICAgICAgc3F1YXJlLnN0eWxlLmZsZXggPSAnMCAwICcgKyBjZWxsU2l6ZSArICdweCc7XG5cbiAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250ZW50LmlkID0gaWQ7XG4gICAgICBjb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjb250ZW50Q2xhc3MpO1xuXG4gICAgICBjb250ZW50Lm9uY2xpY2sgPSBvblNxdWFyZUNsaWNrO1xuICAgICAgZG9jdW1lbnQub25rZXlkb3duID0gb25JbnB1dDtcblxuICAgICAgc3F1YXJlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgcm93LmFwcGVuZENoaWxkKHNxdWFyZSk7XG4gICAgICBzcXVhcmVzLnNldChpZCwgY29udGVudCk7XG4gICAgfVxuXG4gICAgZ3JpZC5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG5cbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHBlZXJJZHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgIHZhciBfcmVmMyA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpO1xuXG4gICAgICB2YXIgX3MgPSBfcmVmNFswXTtcbiAgICAgIHZhciBfcCA9IF9yZWY0WzFdO1xuXG4gICAgICBzcXVhcmVQZWVycy5zZXQoX3MsIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3ApKS5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHNxdWFyZXMuZ2V0KHgpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNxdWFyZXM7XG59O1xuXG52YXIgcHV6emxlID0gX3N1ZG9rdTIuZGVmYXVsdC5nZXRQdXp6bGUoKTtcbnZhciBwZWVycyA9IF9zdWRva3UyLmRlZmF1bHQucGVlcnM7XG52YXIgc3F1YXJlcyA9IHJlbmRlckdyaWQocGVlcnMpO1xuXG52YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xudmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xudmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxudHJ5IHtcbiAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHB1enpsZS5wdXp6bGVbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICB2YXIgX3JlZjUgPSBfc3RlcDMudmFsdWU7XG5cbiAgICB2YXIgX3JlZjYgPSBfc2xpY2VkVG9BcnJheShfcmVmNSwgMik7XG5cbiAgICB2YXIgcyA9IF9yZWY2WzBdO1xuICAgIHZhciBkID0gX3JlZjZbMV07XG5cbiAgICBzcXVhcmVzLmdldChzLnRvTG93ZXJDYXNlKCkpLmlubmVySFRNTCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZCkpWzBdID09PSAnMCcgPyAnJyA6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZCkpWzBdO1xuICB9XG59IGNhdGNoIChlcnIpIHtcbiAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xufSBmaW5hbGx5IHtcbiAgdHJ5IHtcbiAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgfVxuICB9XG59XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG4vKipcbiAqIEEgSmF2YVNjcmlwdCBwb3J0IGJhc2VkIG9uIFwiU29sdmluZyBFdmVyeSBTdWRva3UgUHV6emxlXCJcbiAqIGJ5IFBldGVyIE5vcnZpZy5cbiAqXG4gKiBUaGUgYXJ0aWNsZSBjYW4gYmUgZm91bmQgaGVyZTpcbiAqIC0gaHR0cDovL25vcnZpZy5jb20vc3Vkb2t1Lmh0bWxcbiAqXG4gKiBUaGUgb3JpZ2luYWwgUHl0aG9uIHNvdXJjZSBjYW4gYmUgZm91bmQgaGVyZTpcbiAqIC0gaHR0cHM6Ly9naXRodWIuY29tL25vcnZpZy9weXR1ZGVzL2Jsb2IvbWFzdGVyL3N1ZG9rdS5weVxuICovXG5cbnZhciByb3dzID0gbmV3IFNldChbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJ10pO1xudmFyIGRpZ2l0cyA9IG5ldyBTZXQoWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOSddKTtcblxudmFyIGNvbHMgPSBuZXcgU2V0KGRpZ2l0cyk7XG52YXIgc3F1YXJlcyA9IGNyb3NzKHJvd3MsIGNvbHMpO1xuXG52YXIgbGV2ZWwgPSB7XG4gIGVhc3k6IDI4LFxuICBtZWRpdW06IDM3LFxuICBoYXJkOiA0NSxcbiAgbWFzdGVyOiA2NVxufTtcblxudmFyIHVuaXRsaXN0ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShjb2xzKSkubWFwKGZ1bmN0aW9uIChjKSB7XG4gIHJldHVybiBjcm9zcyhyb3dzLCBuZXcgU2V0KGMpKTtcbn0pLmNvbmNhdChbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHJvd3MpKS5tYXAoZnVuY3Rpb24gKHIpIHtcbiAgcmV0dXJuIGNyb3NzKG5ldyBTZXQociksIGNvbHMpO1xufSkpLmNvbmNhdChmdW5jdGlvbiAoKSB7XG4gIHZhciBsID0gW1snQScsICdCJywgJ0MnXSwgWydEJywgJ0UnLCAnRiddLCBbJ0cnLCAnSCcsICdJJ11dO1xuICB2YXIgZCA9IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXSwgWyc3JywgJzgnLCAnOSddXTtcbiAgdmFyIHUgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBkLmxlbmd0aDsgaisrKSB7XG4gICAgICB1LnB1c2goY3Jvc3MobmV3IFNldChsW2ldKSwgbmV3IFNldChkW2pdKSkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1O1xufSgpKTtcblxudmFyIHVuaXRzID0gbmV3IE1hcCgpO1xudmFyIHBlZXJzID0gbmV3IE1hcCgpO1xuXG52YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChzKSB7XG4gIHVuaXRzLnNldChzLCB1bml0bGlzdC5maWx0ZXIoZnVuY3Rpb24gKHUpIHtcbiAgICByZXR1cm4gdS5oYXMocyk7XG4gIH0pKTtcblxuICB2YXIgcCA9IHVuaXRzLmdldChzKTtcbiAgcGVlcnMuc2V0KHMsIG5ldyBTZXQoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocFswXSksIF90b0NvbnN1bWFibGVBcnJheShwWzFdKSwgX3RvQ29uc3VtYWJsZUFycmF5KHBbMl0pKSkpKS5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geCAhPT0gcztcbiAgfSkpKTtcbn07XG5cbnZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbnZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xudmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG50cnkge1xuICBmb3IgKHZhciBfaXRlcmF0b3IgPSBzcXVhcmVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgIHZhciBzID0gX3N0ZXAudmFsdWU7XG5cbiAgICBfbG9vcChzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcm9zcyBwcm9kdWN0IG9mIGVsZW1lbnRzIGluIEEgYW5kIGVsZW1lbnRzIGluIEIuXG4gICAqL1xufSBjYXRjaCAoZXJyKSB7XG4gIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG59IGZpbmFsbHkge1xuICB0cnkge1xuICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyb3NzKGEsIGIpIHtcbiAgdmFyIGMgPSBuZXcgU2V0KCk7XG5cbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IGEudmFsdWVzKClbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgIHZhciBhMSA9IF9zdGVwMi52YWx1ZTtcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gKGIudmFsdWVzKCkgfHwgYilbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgYjEgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICBjLmFkZChhMSArIGIxKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGM7XG59XG5cbi8qKlxuICogQ29udmVydCBncmlkIHRvIGEgZGljdCBvZiBwb3NzaWJsZSB2YWx1ZXMsIHtzcXVhcmU6IGRpZ2l0c30sXG4gKiBvciByZXR1cm4gZmFsc2UgaWYgYSBjb250cmFkaWN0aW9uIGlzIGRldGVjdGVkLlxuICovXG5mdW5jdGlvbiBwYXJzZUdyaWQoZ3JpZCkge1xuICB2YXIgdmFsdWVzID0gbmV3IE1hcCgpO1xuICBzcXVhcmVzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gdmFsdWVzLnNldChzLCBkaWdpdHMpO1xuICB9KTtcblxuICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gZmFsc2U7XG4gIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gZ3JpZFZhbHVlcyhncmlkKS5lbnRyaWVzKClbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcbiAgICAgIHZhciBfcmVmID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKTtcblxuICAgICAgdmFyIHMgPSBfcmVmMlswXTtcbiAgICAgIHZhciBkID0gX3JlZjJbMV07XG5cbiAgICAgIGlmIChkaWdpdHMuaGFzKGQpICYmICFhc3NpZ24odmFsdWVzLCBzLCBkKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsdWVzO1xufVxuXG4vKipcbiAqIENvbnZlcnQgZ3JpZCBpbnRvIGEgZGljdCBvZiB7c3F1YXJlOiBjaGFyfSB3aXRoICcwJyBvciAnLicgZm9yIGVtcHRpZXMuXG4gKi9cbmZ1bmN0aW9uIGdyaWRWYWx1ZXMoZ3JpZCkge1xuICB2YXIgY2hhcnMgPSBncmlkLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiBkaWdpdHMuaGFzKGMpIHx8IGMgPT09ICcwJyB8fCBjID09PSAnLic7XG4gIH0pO1xuICB2YXIgdmFsdWVzID0gbmV3IE1hcCgpO1xuICB2YXIgcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3F1YXJlcykpO1xuXG4gIGNvbnNvbGUuYXNzZXJ0KGNoYXJzLmxlbmd0aCA9PT0gODEpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xuICAgIHZhbHVlcy5zZXQoc1tpXSwgY2hhcnNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuLyoqXG4gKiBFbGltaW5hdGUgYWxsIHRoZSBvdGhlciB2YWx1ZXMgKGV4Y2VwdCBkKSBmcm9tIHZhbHVlc1tzXSBhbmQgcHJvcGFnYXRlLlxuICogUmV0dXJuIHZhbHVlcywgZXhjZXB0IHJldHVybiBGYWxzZSBpZiBhIGNvbnRyYWRpY3Rpb24gaXMgZGV0ZWN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGFzc2lnbih2YWx1ZXMsIHMsIGQpIHtcbiAgdmFyIG90aGVycyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmFsdWVzLmdldChzKSkpLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB4ICE9PSBkO1xuICB9KTtcbiAgcmV0dXJuIGFsbChvdGhlcnMubWFwKGZ1bmN0aW9uIChkMikge1xuICAgIHJldHVybiBlbGltaW5hdGUodmFsdWVzLCBzLCBkMik7XG4gIH0pKSA/IHZhbHVlcyA6IGZhbHNlO1xufVxuXG4vKipcbiAqIEVsaW1pbmF0ZSBkIGZyb20gdmFsdWVzW3NdOyBwcm9wYWdhdGUgd2hlbiB2YWx1ZXMgb3IgcGxhY2VzIDw9IDIuXG4gKiBSZXR1cm4gdmFsdWVzLCBleGNlcHQgcmV0dXJuIEZhbHNlIGlmIGEgY29udHJhZGljdGlvbiBpcyBkZXRlY3RlZC5cbiAqL1xuZnVuY3Rpb24gZWxpbWluYXRlKHZhbHVlcywgcywgZCkge1xuICBpZiAoIXZhbHVlcy5nZXQocykuaGFzKGQpKSByZXR1cm4gdmFsdWVzO1xuXG4gIHZhbHVlcy5zZXQocywgbmV3IFNldChbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlcy5nZXQocykpKS5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geCAhPT0gZDtcbiAgfSkpKTtcblxuICBpZiAoIXZhbHVlcy5nZXQocykuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmICh2YWx1ZXMuZ2V0KHMpLnNpemUgPT09IDEpIHtcbiAgICB2YXIgZDIgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlcy5nZXQocykpKVswXTtcblxuICAgIGlmICghYWxsKFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGVlcnMuZ2V0KHMpKSkubWFwKGZ1bmN0aW9uIChzMikge1xuICAgICAgcmV0dXJuIGVsaW1pbmF0ZSh2YWx1ZXMsIHMyLCBkMik7XG4gICAgfSkpKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlO1xuICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gZmFsc2U7XG4gIHZhciBfaXRlcmF0b3JFcnJvcjUgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3I1ID0gdW5pdHMuZ2V0KHMpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA1OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gKF9zdGVwNSA9IF9pdGVyYXRvcjUubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlKSB7XG4gICAgICB2YXIgdW5pdCA9IF9zdGVwNS52YWx1ZTtcblxuICAgICAgdmFyIGRwbGFjZXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHVuaXQpKS5maWx0ZXIoZnVuY3Rpb24gKHMyKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXMuZ2V0KHMyKS5oYXMoZCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFkcGxhY2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGRwbGFjZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICghYXNzaWduKHZhbHVlcywgZHBsYWNlc1swXSwgZCkpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7XG4gICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XG4gICAgICAgIF9pdGVyYXRvcjUucmV0dXJuKCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjUpIHtcbiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I1O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbmZ1bmN0aW9uIHNvbHZlKGdyaWQpIHtcbiAgcmV0dXJuIHNlYXJjaChwYXJzZUdyaWQoZ3JpZCkpO1xufVxuXG4vKipcbiAqIFVzaW5nIGRlcHRoLWZpcnN0IHNlYXJjaCBhbmQgcHJvcGFnYXRpb24sIHRyeSBhbGwgcG9zc2libGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZWFyY2godmFsdWVzKSB7XG4gIGlmICghdmFsdWVzKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGFsbChbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNxdWFyZXMpKS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gdmFsdWVzLmdldChzKS5zaXplID09PSAxO1xuICB9KSkpIHJldHVybiB2YWx1ZXM7XG5cbiAgdmFyIHMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNxdWFyZXMpKS5maWx0ZXIoZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gdmFsdWVzLmdldChzKS5zaXplID4gMTtcbiAgfSkuc29ydChmdW5jdGlvbiAoczEsIHMyKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5nZXQoczEpLnNpemUgLSB2YWx1ZXMuZ2V0KHMyKS5zaXplO1xuICB9KVswXTtcblxuICByZXR1cm4gc29tZSh2YWx1ZXMuZ2V0KHMpLCBmdW5jdGlvbiAoZCkge1xuICAgIHJldHVybiBzZWFyY2goYXNzaWduKG5ldyBNYXAodmFsdWVzKSwgcywgZCkpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc29tZShzZXEsIGZ1bmMpIHtcbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZTtcbiAgdmFyIF9kaWRJdGVyYXRvckVycm9yNiA9IGZhbHNlO1xuICB2YXIgX2l0ZXJhdG9yRXJyb3I2ID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yNiA9IHNlcVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IChfc3RlcDYgPSBfaXRlcmF0b3I2Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZSkge1xuICAgICAgdmFyIGQgPSBfc3RlcDYudmFsdWU7XG5cbiAgICAgIHZhciByZXN1bHQgPSBmdW5jKGQpO1xuICAgICAgaWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kaWRJdGVyYXRvckVycm9yNiA9IHRydWU7XG4gICAgX2l0ZXJhdG9yRXJyb3I2ID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ICYmIF9pdGVyYXRvcjYucmV0dXJuKSB7XG4gICAgICAgIF9pdGVyYXRvcjYucmV0dXJuKCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjYpIHtcbiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I2O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBGaXNoZXItWWF0ZXMgU2h1ZmZsZVxuICogU2VlIGh0dHA6Ly9iaXQubHkvMmdNWGlqWFxuICovXG5mdW5jdGlvbiBzaHVmZmxlKHNlcSkge1xuICB2YXIgYXJyYXkgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNlcSkpO1xuICB2YXIgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoLFxuICAgICAgdGVtcG9yYXJ5VmFsdWUgPSB2b2lkIDAsXG4gICAgICByYW5kb21JbmRleCA9IHZvaWQgMDtcblxuICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxuICB3aGlsZSAoMCAhPT0gY3VycmVudEluZGV4KSB7XG5cbiAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cbiAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7XG4gICAgY3VycmVudEluZGV4IC09IDE7XG5cbiAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xuICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07XG4gICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbmZ1bmN0aW9uIGFsbCh2YWx1ZXMpIHtcbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb243ID0gdHJ1ZTtcbiAgdmFyIF9kaWRJdGVyYXRvckVycm9yNyA9IGZhbHNlO1xuICB2YXIgX2l0ZXJhdG9yRXJyb3I3ID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yNyA9IHZhbHVlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNyA9IChfc3RlcDcgPSBfaXRlcmF0b3I3Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb243ID0gdHJ1ZSkge1xuICAgICAgdmFyIHYgPSBfc3RlcDcudmFsdWU7XG5cbiAgICAgIGlmICghdikgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2RpZEl0ZXJhdG9yRXJyb3I3ID0gdHJ1ZTtcbiAgICBfaXRlcmF0b3JFcnJvcjcgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjcgJiYgX2l0ZXJhdG9yNy5yZXR1cm4pIHtcbiAgICAgICAgX2l0ZXJhdG9yNy5yZXR1cm4oKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNykge1xuICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQSBwdXp6bGUgaXMgc29sdmVkIGlmIGVhY2ggdW5pdCBpcyBhIHBlcm11dGF0aW9uIG9mIHRoZSBkaWdpdHMgMSB0byA5LlxuICovXG5mdW5jdGlvbiBzb2x2ZWQodmFsdWVzKSB7XG4gIGZ1bmN0aW9uIHVuaXRTb2x2ZWQodW5pdCkge1xuICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOCA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yOCA9IGZhbHNlO1xuICAgIHZhciBfaXRlcmF0b3JFcnJvcjggPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yOCA9IHVuaXRbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDg7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjggPSAoX3N0ZXA4ID0gX2l0ZXJhdG9yOC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOCA9IHRydWUpIHtcbiAgICAgICAgdmFyIHMgPSBfc3RlcDgudmFsdWU7XG5cbiAgICAgICAgdmFyIGRpZmYgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlcy5nZXQocykpKS5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICByZXR1cm4gIWRpZ2l0cy5oYXMoZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGlmZi5sZW5ndGggPiAwKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfZGlkSXRlcmF0b3JFcnJvcjggPSB0cnVlO1xuICAgICAgX2l0ZXJhdG9yRXJyb3I4ID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb244ICYmIF9pdGVyYXRvcjgucmV0dXJuKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yOC5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yOCkge1xuICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yODtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlcyAmJiBhbGwodW5pdGxpc3QubWFwKGZ1bmN0aW9uICh1KSB7XG4gICAgcmV0dXJuIHVuaXRTb2x2ZWQodSk7XG4gIH0pKTtcbn1cblxuLyoqXG4gKiBNYWtlIGEgcmFuZG9tIHB1enpsZSB3aXRoIE4gb3IgbW9yZSBhc3NpZ25tZW50cy4gUmVzdGFydCBvbiBjb250cmFkaWN0aW9ucy5cbiAqIE5vdGUgdGhlIHJlc3VsdGluZyBwdXp6bGUgaXMgbm90IGd1YXJhbnRlZWQgdG8gYmUgc29sdmFibGUsIGJ1dCBlbXBpcmljYWxseVxuICogYWJvdXQgOTkuOCUgb2YgdGhlbSBhcmUgc29sdmFibGUuIFNvbWUgaGF2ZSBtdWx0aXBsZSBzb2x1dGlvbnNcbiAqL1xuZnVuY3Rpb24gcmFuZG9tUHV6emxlKCkge1xuICB2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTc7XG5cbiAgdmFyIHZhbHVlcyA9IG5ldyBNYXAoKTtcbiAgc3F1YXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5zZXQocywgZGlnaXRzKTtcbiAgfSk7XG5cbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb245ID0gdHJ1ZTtcbiAgdmFyIF9kaWRJdGVyYXRvckVycm9yOSA9IGZhbHNlO1xuICB2YXIgX2l0ZXJhdG9yRXJyb3I5ID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yOSA9IHNodWZmbGUoc3F1YXJlcylbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDk7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjkgPSAoX3N0ZXA5ID0gX2l0ZXJhdG9yOS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOSA9IHRydWUpIHtcbiAgICAgIHZhciBzID0gX3N0ZXA5LnZhbHVlO1xuXG4gICAgICBpZiAoIWFzc2lnbih2YWx1ZXMsIHMsIHJhbmRvbVZhbHVlKHZhbHVlcy5nZXQocykpKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgdmFyIGRzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzcXVhcmVzKSkuZmlsdGVyKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXMuZ2V0KHMpLnNpemUgPT09IDE7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5nZXQocyk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGRzLmxlbmd0aCA+PSBuICYmIG5ldyBTZXQoZHMpLnNpemUgPj0gOCkge1xuICAgICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzcXVhcmVzKSkubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlcy5nZXQocykuc2l6ZSA9PT0gMSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmFsdWVzLmdldChzKSkpWzBdIDogJzAnO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kaWRJdGVyYXRvckVycm9yOSA9IHRydWU7XG4gICAgX2l0ZXJhdG9yRXJyb3I5ID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb245ICYmIF9pdGVyYXRvcjkucmV0dXJuKSB7XG4gICAgICAgIF9pdGVyYXRvcjkucmV0dXJuKCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjkpIHtcbiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I5O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByYW5kb21QdXp6bGUobik7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbVZhbHVlKHZhbHVlcykge1xuICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZXMpKVtnZXRSYW5kb21JbnQoMCwgdmFsdWVzLnNpemUgLSAxKV07XG59XG5cbmZ1bmN0aW9uIGdldFJhbmRvbUludChtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbn1cblxuZnVuY3Rpb24gaXNVbmlxdWUob3JpZ2luYWwsIHRlc3QpIHtcbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24xMCA9IHRydWU7XG4gIHZhciBfZGlkSXRlcmF0b3JFcnJvcjEwID0gZmFsc2U7XG4gIHZhciBfaXRlcmF0b3JFcnJvcjEwID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yMTAgPSBvcmlnaW5hbFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMTA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjEwID0gKF9zdGVwMTAgPSBfaXRlcmF0b3IxMC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMTAgPSB0cnVlKSB7XG4gICAgICB2YXIgX3JlZjMgPSBfc3RlcDEwLnZhbHVlO1xuXG4gICAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMik7XG5cbiAgICAgIHZhciBzID0gX3JlZjRbMF07XG4gICAgICB2YXIgZCA9IF9yZWY0WzFdO1xuXG4gICAgICBpZiAoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0ZXN0LmdldChzKSkpWzBdICE9PSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGQpKVswXSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2RpZEl0ZXJhdG9yRXJyb3IxMCA9IHRydWU7XG4gICAgX2l0ZXJhdG9yRXJyb3IxMCA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMTAgJiYgX2l0ZXJhdG9yMTAucmV0dXJuKSB7XG4gICAgICAgIF9pdGVyYXRvcjEwLnJldHVybigpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IxMCkge1xuICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjEwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgdGhyb3VnaCB0aGUgcmFuZG9tbHkgc2h1ZmZsZWQgc3F1YXJlcy5cbiAqIEFmdGVyIHJlbW92aW5nIGVhY2ggc3F1YXJlIGZyb20gdGhlIHNvbHV0aW9uXG4gKiBzb2x2ZSBpdCBhbmQgdGVzdCBpZiBpdCBpcyB0aGUgc2FtZSBhcyB0aGUgb3JpZ2luYWwuXG4gKiBJZiB0aGUgc29sdXRpb24gZG9lc24ndCBtYXRjaCB1bmRvIHRoZSByZW1vdmFsIGFuZFxuICogdHJ5IGFub3RoZXIgc3F1YXJlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVQdXp6bGUoc29sdXRpb24pIHtcbiAgdmFyIHB1enpsZSA9IFtdO1xuICB2YXIgaW5kaWNlcyA9IHt9O1xuICB2YXIgc2h1ZmZsZWQgPSBzaHVmZmxlKHNxdWFyZXMpO1xuXG4gIHZhciByZXN1bHQgPSBuZXcgTWFwKCk7XG4gIHZhciBoaWRkZW5TcXVhcmVzID0gbmV3IE1hcCgpO1xuXG4gIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3F1YXJlcykpLmZvckVhY2goZnVuY3Rpb24gKHMsIGkpIHtcbiAgICBwdXp6bGUucHVzaChbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNvbHV0aW9uLmdldChzKSkpWzBdKTtcbiAgICBpbmRpY2VzW3NdID0gaTtcbiAgfSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaHVmZmxlZC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBqID0gaW5kaWNlc1tzaHVmZmxlZFtpXV07XG4gICAgdmFyIHYgPSBwdXp6bGVbal07XG4gICAgcHV6emxlW2pdID0gJzAnO1xuXG4gICAgaWYgKCFpc1VuaXF1ZShzb2x1dGlvbiwgc29sdmUocHV6emxlKSkpIHtcbiAgICAgIHB1enpsZVtqXSA9IHY7XG4gICAgICByZXN1bHQuc2V0KHNodWZmbGVkW2ldLCB2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnNldChzaHVmZmxlZFtpXSwgJzAnKTtcbiAgICAgIGhpZGRlblNxdWFyZXMuc2V0KHNodWZmbGVkW2ldLCB2KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIGdldFB1enpsZTogZnVuY3Rpb24gZ2V0UHV6emxlKCkge1xuICAgIHZhciBkaWZmaWN1bHR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBsZXZlbC5lYXN5O1xuXG4gICAgdmFyIHNvbHV0aW9uID0gc29sdmUocmFuZG9tUHV6emxlKDgxIC0gZGlmZmljdWx0eSkpO1xuXG4gICAgd2hpbGUgKCFzb2x2ZWQoc29sdXRpb24pKSB7XG4gICAgICBzb2x1dGlvbiA9IHNvbHZlKHJhbmRvbVB1enpsZSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc29sdXRpb246IHNvbHV0aW9uLFxuICAgICAgcHV6emxlOiBjcmVhdGVQdXp6bGUoc29sdXRpb24pXG4gICAgfTtcbiAgfSxcbiAgcGVlcnM6IHBlZXJzXG59O1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBtYWluLjc5YmQ3OWY2NjA5ZmFkMDY4YzI1LmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgNzliZDc5ZjY2MDlmYWQwNjhjMjUiLCJpbXBvcnQgc3Vkb2t1IGZyb20gJy4vc3Vkb2t1JztcbmltcG9ydCAnLi4vY3NzL21haW4uY3NzJztcblxubGV0IHJlbmRlckdyaWQgPSAocGVlcnMpID0+IHtcblxuICBsZXQgZ3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkLWNvbnRhaW5lcicpO1xuICBsZXQgcm93cyA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnLCAnZycsICdoJywgJ2knXTtcbiAgbGV0IGNvbHMgPSBbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOV0ubWFwKHggPT4geC50b1N0cmluZygpKTtcblxuICBsZXQgcGVlcklkcyA9IG5ldyBNYXAoKTtcbiAgbGV0IHNxdWFyZXMgPSBuZXcgTWFwKCk7XG4gIGxldCBzcXVhcmVQZWVycyA9IG5ldyBNYXAoKTtcblxuICBsZXQgZm9jdXNlZFNxdWFyZTtcbiAgbGV0IGhpZ2hsaWdodGVkUGVlcnM7XG5cbiAgZm9yIChsZXQgW3MsIHBdIG9mIHBlZXJzKSB7XG4gICAgcGVlcklkcy5zZXQocy50b0xvd2VyQ2FzZSgpLCBuZXcgU2V0KFsuLi5wXS5tYXAoeCA9PiB4LnRvTG93ZXJDYXNlKCkpKSk7XG4gIH1cblxuICBjb25zdCBuID0gOTtcbiAgY29uc3QgY2VsbFNpemUgPSAoZ3JpZC5vZmZzZXRXaWR0aCAvIG4pIC0gMztcblxuICBjb25zdCBzcXVhcmVDbGFzcyA9ICdjb2wtMSBzcXVhcmUnO1xuICBjb25zdCBjb250ZW50Q2xhc3MgPSAnc3F1YXJlLWNvbnRlbnQnO1xuXG4gIGxldCBoaWdobGlnaHRQZWVycyA9IHMgPT4ge1xuICAgIGlmIChoaWdobGlnaHRlZFBlZXJzKVxuICAgICAgaGlnaGxpZ2h0ZWRQZWVycy5mb3JFYWNoKHAgPT4ge1xuICAgICAgICBpZiAocC5pZCAhPT0gcykgcC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY29udGVudENsYXNzKTtcbiAgICAgIH0pO1xuXG4gICAgaGlnaGxpZ2h0ZWRQZWVycyA9IHNxdWFyZVBlZXJzLmdldChzKTtcbiAgICBoaWdobGlnaHRlZFBlZXJzLmZvckVhY2gocCA9PiBwLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBgJHtjb250ZW50Q2xhc3N9IGhpZ2hsaWdodGApKTtcbiAgfTtcblxuICBsZXQgaGlnaGxpZ2h0U3F1YXJlID0gZSA9PiB7XG4gICAgaWYgKGZvY3VzZWRTcXVhcmUpXG4gICAgICBmb2N1c2VkU3F1YXJlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjb250ZW50Q2xhc3MpO1xuXG4gICAgZm9jdXNlZFNxdWFyZSA9IGUudGFyZ2V0O1xuICAgIGZvY3VzZWRTcXVhcmUuc2V0QXR0cmlidXRlKCdjbGFzcycsIGAke2NvbnRlbnRDbGFzc30gZm9jdXNlZC1jb250ZW50YCk7XG4gICAgaGlnaGxpZ2h0UGVlcnMoZS50YXJnZXQuaWQpO1xuICB9O1xuXG4gIGxldCBvblNxdWFyZUNsaWNrID0gZSA9PiB7XG4gICAgaGlnaGxpZ2h0U3F1YXJlKGUpXG4gIH07XG5cbiAgbGV0IG9uSW5wdXQgPSBlID0+IHtcbiAgICBpZiAoZS5rZXlDb2RlID49IDQ5ICYmIGUua2V5Q29kZSA8PSA1Nykge1xuICAgICAgaWYgKGZvY3VzZWRTcXVhcmUpIGZvY3VzZWRTcXVhcmUuaW5uZXJIVE1MID0gZS5rZXk7XG4gICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDgpIHtcbiAgICAgIGlmIChmb2N1c2VkU3F1YXJlKSBmb2N1c2VkU3F1YXJlLmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgfTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByb3cuc2V0QXR0cmlidXRlKCdjbGFzcycsICdyb3cnKTtcbiAgICByb3cuc3R5bGUuaGVpZ2h0ID0gYCR7Y2VsbFNpemV9cHhgO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBuOyBqKyspIHtcbiAgICAgIGxldCBpZCA9IGAke3Jvd3NbaV19JHtjb2xzW2pdfWA7XG4gICAgICBsZXQgc3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgIHNxdWFyZS5pZCA9IGlkO1xuICAgICAgc3F1YXJlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBzcXVhcmVDbGFzcyk7XG5cbiAgICAgIHNxdWFyZS5zdHlsZS5oZWlnaHQgPSBgJHtjZWxsU2l6ZX1weGA7XG4gICAgICBzcXVhcmUuc3R5bGUud2lkdGggPSBgJHtjZWxsU2l6ZX1weGA7XG4gICAgICBzcXVhcmUuc3R5bGUubWF4V2lkdGggPSBgJHtjZWxsU2l6ZX1weGA7XG4gICAgICBzcXVhcmUuc3R5bGUuZmxleCA9IGAwIDAgJHtjZWxsU2l6ZX1weGA7XG5cbiAgICAgIGxldCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250ZW50LmlkID0gaWQ7XG4gICAgICBjb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjb250ZW50Q2xhc3MpO1xuXG4gICAgICBjb250ZW50Lm9uY2xpY2sgPSBvblNxdWFyZUNsaWNrO1xuICAgICAgZG9jdW1lbnQub25rZXlkb3duID0gb25JbnB1dDtcblxuICAgICAgc3F1YXJlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgcm93LmFwcGVuZENoaWxkKHNxdWFyZSk7XG4gICAgICBzcXVhcmVzLnNldChpZCwgY29udGVudCk7XG4gICAgfVxuXG4gICAgZ3JpZC5hcHBlbmRDaGlsZChyb3cpXG4gIH1cblxuICBmb3IgKGxldCBbcywgcF0gb2YgcGVlcklkcylcbiAgICBzcXVhcmVQZWVycy5zZXQocywgWy4uLnBdLm1hcCh4ID0+IHNxdWFyZXMuZ2V0KHgpKSk7XG5cbiAgcmV0dXJuIHNxdWFyZXM7XG59O1xuXG5sZXQgcHV6emxlID0gc3Vkb2t1LmdldFB1enpsZSgpO1xubGV0IHBlZXJzID0gc3Vkb2t1LnBlZXJzO1xubGV0IHNxdWFyZXMgPSByZW5kZXJHcmlkKHBlZXJzKTtcblxuZm9yIChsZXQgW3MsIGRdIG9mIHB1enpsZS5wdXp6bGUpXG4gIHNxdWFyZXMuZ2V0KHMudG9Mb3dlckNhc2UoKSkuaW5uZXJIVE1MID0gWy4uLmRdWzBdID09PSAnMCcgPyAnJyA6IFsuLi5kXVswXTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9zdWRva3UtdWkuanMiLCIvKipcbiAqIEEgSmF2YVNjcmlwdCBwb3J0IGJhc2VkIG9uIFwiU29sdmluZyBFdmVyeSBTdWRva3UgUHV6emxlXCJcbiAqIGJ5IFBldGVyIE5vcnZpZy5cbiAqXG4gKiBUaGUgYXJ0aWNsZSBjYW4gYmUgZm91bmQgaGVyZTpcbiAqIC0gaHR0cDovL25vcnZpZy5jb20vc3Vkb2t1Lmh0bWxcbiAqXG4gKiBUaGUgb3JpZ2luYWwgUHl0aG9uIHNvdXJjZSBjYW4gYmUgZm91bmQgaGVyZTpcbiAqIC0gaHR0cHM6Ly9naXRodWIuY29tL25vcnZpZy9weXR1ZGVzL2Jsb2IvbWFzdGVyL3N1ZG9rdS5weVxuICovXG5cbmNvbnN0IHJvd3MgPSBuZXcgU2V0KFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knXSk7XG5jb25zdCBkaWdpdHMgPSBuZXcgU2V0KFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknXSk7XG5cbmNvbnN0IGNvbHMgPSBuZXcgU2V0KGRpZ2l0cyk7XG5jb25zdCBzcXVhcmVzID0gY3Jvc3Mocm93cywgY29scyk7XG5cbmNvbnN0IGxldmVsID0ge1xuICBlYXN5OiAyOCxcbiAgbWVkaXVtOiAzNyxcbiAgaGFyZDogNDUsXG4gIG1hc3RlcjogNjVcbn07XG5cbmNvbnN0IHVuaXRsaXN0ID0gWy4uLmNvbHNdLm1hcChjID0+IGNyb3NzKHJvd3MsIG5ldyBTZXQoYykpKVxuICAgIC5jb25jYXQoWy4uLnJvd3NdLm1hcChyID0+IGNyb3NzKG5ldyBTZXQociksIGNvbHMpKSlcbiAgICAuY29uY2F0KCgoKSA9PiB7XG4gICAgICBsZXQgbCA9IFtbJ0EnLCAnQicsICdDJ10sIFsnRCcsICdFJywgJ0YnXSwgWydHJywgJ0gnLCAnSSddXTtcbiAgICAgIGxldCBkID0gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddLCBbJzcnLCAnOCcsICc5J11dO1xuICAgICAgbGV0IHUgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB1LnB1c2goY3Jvc3MobmV3IFNldChsW2ldKSwgbmV3IFNldChkW2pdKSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1O1xuICAgIH0pKCkpO1xuXG5sZXQgdW5pdHMgPSBuZXcgTWFwKCk7XG5sZXQgcGVlcnMgPSBuZXcgTWFwKCk7XG5cbmZvciAobGV0IHMgb2Ygc3F1YXJlcykge1xuICB1bml0cy5zZXQocywgdW5pdGxpc3QuZmlsdGVyKHUgPT4gdS5oYXMocykpKTtcblxuICBsZXQgcCA9IHVuaXRzLmdldChzKTtcbiAgcGVlcnMuc2V0KHMsIG5ldyBTZXQoXG4gICAgICBbLi4ubmV3IFNldChbLi4ucFswXSwgLi4ucFsxXSwgLi4ucFsyXV0pXS5maWx0ZXIoeCA9PiB4ICE9PSBzKSkpO1xufVxuXG4vKipcbiAqIENyb3NzIHByb2R1Y3Qgb2YgZWxlbWVudHMgaW4gQSBhbmQgZWxlbWVudHMgaW4gQi5cbiAqL1xuZnVuY3Rpb24gY3Jvc3MoYSwgYikge1xuICBsZXQgYyA9IG5ldyBTZXQoKTtcblxuICBmb3IgKGxldCBhMSBvZiBhLnZhbHVlcygpKSB7XG4gICAgZm9yIChsZXQgYjEgb2YgYi52YWx1ZXMoKSB8fCBiKSB7XG4gICAgICBjLmFkZChhMSArIGIxKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYztcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGdyaWQgdG8gYSBkaWN0IG9mIHBvc3NpYmxlIHZhbHVlcywge3NxdWFyZTogZGlnaXRzfSxcbiAqIG9yIHJldHVybiBmYWxzZSBpZiBhIGNvbnRyYWRpY3Rpb24gaXMgZGV0ZWN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlR3JpZChncmlkKSB7XG4gIGxldCB2YWx1ZXMgPSBuZXcgTWFwKCk7XG4gIHNxdWFyZXMuZm9yRWFjaChzID0+IHZhbHVlcy5zZXQocywgZGlnaXRzKSk7XG5cbiAgZm9yIChsZXQgW3MsIGRdIG9mIGdyaWRWYWx1ZXMoZ3JpZCkuZW50cmllcygpKSB7XG4gICAgaWYgKGRpZ2l0cy5oYXMoZCkgJiYgIWFzc2lnbih2YWx1ZXMsIHMsIGQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGdyaWQgaW50byBhIGRpY3Qgb2Yge3NxdWFyZTogY2hhcn0gd2l0aCAnMCcgb3IgJy4nIGZvciBlbXB0aWVzLlxuICovXG5mdW5jdGlvbiBncmlkVmFsdWVzKGdyaWQpIHtcbiAgbGV0IGNoYXJzID0gZ3JpZC5maWx0ZXIoYyA9PiBkaWdpdHMuaGFzKGMpIHx8IGMgPT09ICcwJyB8fCBjID09PSAnLicpO1xuICBsZXQgdmFsdWVzID0gbmV3IE1hcCgpO1xuICBsZXQgcyA9IFsuLi5zcXVhcmVzXTtcblxuICBjb25zb2xlLmFzc2VydChjaGFycy5sZW5ndGggPT09IDgxKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YWx1ZXMuc2V0KHNbaV0sIGNoYXJzW2ldKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbi8qKlxuICogRWxpbWluYXRlIGFsbCB0aGUgb3RoZXIgdmFsdWVzIChleGNlcHQgZCkgZnJvbSB2YWx1ZXNbc10gYW5kIHByb3BhZ2F0ZS5cbiAqIFJldHVybiB2YWx1ZXMsIGV4Y2VwdCByZXR1cm4gRmFsc2UgaWYgYSBjb250cmFkaWN0aW9uIGlzIGRldGVjdGVkLlxuICovXG5mdW5jdGlvbiBhc3NpZ24odmFsdWVzLCBzLCBkKSB7XG4gIGxldCBvdGhlcnMgPSBbLi4udmFsdWVzLmdldChzKV0uZmlsdGVyKHggPT4geCAhPT0gZCk7XG4gIHJldHVybiBhbGwob3RoZXJzLm1hcChkMiA9PiBlbGltaW5hdGUodmFsdWVzLCBzLCBkMikpKSA/IHZhbHVlcyA6IGZhbHNlO1xufVxuXG4vKipcbiAqIEVsaW1pbmF0ZSBkIGZyb20gdmFsdWVzW3NdOyBwcm9wYWdhdGUgd2hlbiB2YWx1ZXMgb3IgcGxhY2VzIDw9IDIuXG4gKiBSZXR1cm4gdmFsdWVzLCBleGNlcHQgcmV0dXJuIEZhbHNlIGlmIGEgY29udHJhZGljdGlvbiBpcyBkZXRlY3RlZC5cbiAqL1xuZnVuY3Rpb24gZWxpbWluYXRlKHZhbHVlcywgcywgZCkge1xuICBpZiAoIXZhbHVlcy5nZXQocykuaGFzKGQpKVxuICAgIHJldHVybiB2YWx1ZXM7XG5cbiAgdmFsdWVzLnNldChzLCBuZXcgU2V0KFsuLi52YWx1ZXMuZ2V0KHMpXS5maWx0ZXIoeCA9PiB4ICE9PSBkKSkpO1xuXG4gIGlmICghdmFsdWVzLmdldChzKS5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIH0gZWxzZSBpZiAodmFsdWVzLmdldChzKS5zaXplID09PSAxKSB7XG4gICAgbGV0IGQyID0gWy4uLnZhbHVlcy5nZXQocyldWzBdO1xuXG4gICAgaWYgKCFhbGwoWy4uLnBlZXJzLmdldChzKV0ubWFwKHMyID0+IGVsaW1pbmF0ZSh2YWx1ZXMsIHMyLCBkMikpKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAobGV0IHVuaXQgb2YgdW5pdHMuZ2V0KHMpKSB7XG4gICAgbGV0IGRwbGFjZXMgPSBbLi4udW5pdF0uZmlsdGVyKHMyID0+IHZhbHVlcy5nZXQoczIpLmhhcyhkKSk7XG5cbiAgICBpZiAoIWRwbGFjZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChkcGxhY2VzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKCFhc3NpZ24odmFsdWVzLCBkcGxhY2VzWzBdLCBkKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbmZ1bmN0aW9uIHNvbHZlKGdyaWQpIHtcbiAgcmV0dXJuIHNlYXJjaChwYXJzZUdyaWQoZ3JpZCkpO1xufVxuXG4vKipcbiAqIFVzaW5nIGRlcHRoLWZpcnN0IHNlYXJjaCBhbmQgcHJvcGFnYXRpb24sIHRyeSBhbGwgcG9zc2libGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZWFyY2godmFsdWVzKSB7XG4gIGlmICghdmFsdWVzKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoYWxsKFsuLi5zcXVhcmVzXS5tYXAocyA9PiB2YWx1ZXMuZ2V0KHMpLnNpemUgPT09IDEpKSlcbiAgICByZXR1cm4gdmFsdWVzO1xuXG4gIGxldCBzID0gWy4uLnNxdWFyZXNdXG4gICAgICAuZmlsdGVyKHMgPT4gdmFsdWVzLmdldChzKS5zaXplID4gMSlcbiAgICAgIC5zb3J0KChzMSwgczIpID0+IHZhbHVlcy5nZXQoczEpLnNpemUgLSB2YWx1ZXMuZ2V0KHMyKS5zaXplKVswXTtcblxuICByZXR1cm4gc29tZSh2YWx1ZXMuZ2V0KHMpLCBkID0+IHNlYXJjaChhc3NpZ24obmV3IE1hcCh2YWx1ZXMpLCBzLCBkKSkpO1xufVxuXG5mdW5jdGlvbiBzb21lKHNlcSwgZnVuYykge1xuICBmb3IgKGxldCBkIG9mIHNlcSkge1xuICAgIGxldCByZXN1bHQgPSBmdW5jKGQpO1xuICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogRmlzaGVyLVlhdGVzIFNodWZmbGVcbiAqIFNlZSBodHRwOi8vYml0Lmx5LzJnTVhpalhcbiAqL1xuZnVuY3Rpb24gc2h1ZmZsZShzZXEpIHtcbiAgbGV0IGFycmF5ID0gWy4uLnNlcV07XG4gIGxldCBjdXJyZW50SW5kZXggPSBhcnJheS5sZW5ndGgsIHRlbXBvcmFyeVZhbHVlLCByYW5kb21JbmRleDtcblxuICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxuICB3aGlsZSAoMCAhPT0gY3VycmVudEluZGV4KSB7XG5cbiAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cbiAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7XG4gICAgY3VycmVudEluZGV4IC09IDE7XG5cbiAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xuICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07XG4gICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbmZ1bmN0aW9uIGFsbCh2YWx1ZXMpIHtcbiAgZm9yIChsZXQgdiBvZiB2YWx1ZXMpXG4gICAgaWYgKCF2KSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQSBwdXp6bGUgaXMgc29sdmVkIGlmIGVhY2ggdW5pdCBpcyBhIHBlcm11dGF0aW9uIG9mIHRoZSBkaWdpdHMgMSB0byA5LlxuICovXG5mdW5jdGlvbiBzb2x2ZWQodmFsdWVzKSB7XG4gIGZ1bmN0aW9uIHVuaXRTb2x2ZWQodW5pdCkge1xuICAgIGZvciAobGV0IHMgb2YgdW5pdCkge1xuICAgICAgbGV0IGRpZmYgPSBbLi4udmFsdWVzLmdldChzKV0uZmlsdGVyKGQgPT4gIWRpZ2l0cy5oYXMoZCkpO1xuICAgICAgaWYgKGRpZmYubGVuZ3RoID4gMCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlcyAmJiBhbGwodW5pdGxpc3QubWFwKHUgPT4gdW5pdFNvbHZlZCh1KSkpO1xufVxuXG4vKipcbiAqIE1ha2UgYSByYW5kb20gcHV6emxlIHdpdGggTiBvciBtb3JlIGFzc2lnbm1lbnRzLiBSZXN0YXJ0IG9uIGNvbnRyYWRpY3Rpb25zLlxuICogTm90ZSB0aGUgcmVzdWx0aW5nIHB1enpsZSBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBzb2x2YWJsZSwgYnV0IGVtcGlyaWNhbGx5XG4gKiBhYm91dCA5OS44JSBvZiB0aGVtIGFyZSBzb2x2YWJsZS4gU29tZSBoYXZlIG11bHRpcGxlIHNvbHV0aW9uc1xuICovXG5mdW5jdGlvbiByYW5kb21QdXp6bGUobiA9IDE3KSB7XG4gIGxldCB2YWx1ZXMgPSBuZXcgTWFwKCk7XG4gIHNxdWFyZXMuZm9yRWFjaChzID0+IHZhbHVlcy5zZXQocywgZGlnaXRzKSk7XG5cbiAgZm9yIChsZXQgcyBvZiBzaHVmZmxlKHNxdWFyZXMpKSB7XG4gICAgaWYgKCFhc3NpZ24odmFsdWVzLCBzLCByYW5kb21WYWx1ZSh2YWx1ZXMuZ2V0KHMpKSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGxldCBkcyA9IFsuLi5zcXVhcmVzXVxuICAgICAgICAuZmlsdGVyKHMgPT4gdmFsdWVzLmdldChzKS5zaXplID09PSAxKVxuICAgICAgICAubWFwKHMgPT4gdmFsdWVzLmdldChzKSk7XG5cbiAgICBpZiAoZHMubGVuZ3RoID49IG4gJiYgbmV3IFNldChkcykuc2l6ZSA+PSA4KSB7XG4gICAgICByZXR1cm4gWy4uLnNxdWFyZXNdXG4gICAgICAgICAgLm1hcChzID0+IHZhbHVlcy5nZXQocykuc2l6ZSA9PT0gMSA/IFsuLi52YWx1ZXMuZ2V0KHMpXVswXSA6ICcwJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJhbmRvbVB1enpsZShuKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tVmFsdWUodmFsdWVzKSB7XG4gIHJldHVybiBbLi4udmFsdWVzXVtnZXRSYW5kb21JbnQoMCwgdmFsdWVzLnNpemUgLSAxKV07XG59XG5cbmZ1bmN0aW9uIGdldFJhbmRvbUludChtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbn1cblxuZnVuY3Rpb24gaXNVbmlxdWUob3JpZ2luYWwsIHRlc3QpIHtcbiAgZm9yIChsZXQgW3MsIGRdIG9mIG9yaWdpbmFsKSB7XG4gICAgaWYgKFsuLi50ZXN0LmdldChzKV1bMF0gIT09IFsuLi5kXVswXSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogSXRlcmF0ZSB0aHJvdWdoIHRoZSByYW5kb21seSBzaHVmZmxlZCBzcXVhcmVzLlxuICogQWZ0ZXIgcmVtb3ZpbmcgZWFjaCBzcXVhcmUgZnJvbSB0aGUgc29sdXRpb25cbiAqIHNvbHZlIGl0IGFuZCB0ZXN0IGlmIGl0IGlzIHRoZSBzYW1lIGFzIHRoZSBvcmlnaW5hbC5cbiAqIElmIHRoZSBzb2x1dGlvbiBkb2Vzbid0IG1hdGNoIHVuZG8gdGhlIHJlbW92YWwgYW5kXG4gKiB0cnkgYW5vdGhlciBzcXVhcmUuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVB1enpsZShzb2x1dGlvbikge1xuICBsZXQgcHV6emxlID0gW107XG4gIGxldCBpbmRpY2VzID0ge307XG4gIGxldCBzaHVmZmxlZCA9IHNodWZmbGUoc3F1YXJlcyk7XG5cbiAgbGV0IHJlc3VsdCA9IG5ldyBNYXAoKTtcbiAgbGV0IGhpZGRlblNxdWFyZXMgPSBuZXcgTWFwKCk7XG5cbiAgWy4uLnNxdWFyZXNdLmZvckVhY2goKHMsIGkpID0+IHtcbiAgICBwdXp6bGUucHVzaChbLi4uc29sdXRpb24uZ2V0KHMpXVswXSk7XG4gICAgaW5kaWNlc1tzXSA9IGk7XG4gIH0pO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2h1ZmZsZWQubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgaiA9IGluZGljZXNbc2h1ZmZsZWRbaV1dO1xuICAgIGxldCB2ID0gcHV6emxlW2pdO1xuICAgIHB1enpsZVtqXSA9ICcwJztcblxuICAgIGlmICghaXNVbmlxdWUoc29sdXRpb24sIHNvbHZlKHB1enpsZSkpKSB7XG4gICAgICBwdXp6bGVbal0gPSB2O1xuICAgICAgcmVzdWx0LnNldChzaHVmZmxlZFtpXSwgdik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5zZXQoc2h1ZmZsZWRbaV0sICcwJyk7XG4gICAgICBoaWRkZW5TcXVhcmVzLnNldChzaHVmZmxlZFtpXSwgdik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRQdXp6bGU6IChkaWZmaWN1bHR5ID0gbGV2ZWwuZWFzeSkgPT4ge1xuICAgIGxldCBzb2x1dGlvbiA9IHNvbHZlKHJhbmRvbVB1enpsZSg4MSAtIGRpZmZpY3VsdHkpKTtcblxuICAgIHdoaWxlICghc29sdmVkKHNvbHV0aW9uKSkge1xuICAgICAgc29sdXRpb24gPSBzb2x2ZShyYW5kb21QdXp6bGUoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNvbHV0aW9uOiBzb2x1dGlvbixcbiAgICAgIHB1enpsZTogY3JlYXRlUHV6emxlKHNvbHV0aW9uKVxuICAgIH07XG4gIH0sXG4gIHBlZXJzOiBwZWVyc1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL3N1ZG9rdS5qcyJdLCJzb3VyY2VSb290IjoiIn0=